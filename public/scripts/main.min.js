(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){module.exports=(update=>{let placeholders={};function addObserver(id){const observer=new MutationObserver(function(mutations){mutations.forEach(function(mutation){if(mutation.attributeName==="lg-placeholder"){update({matchValue:window.location.pathname,updateType:"domReady"})}})});observer.observe(document.querySelector(id),{attributes:true,childList:false,subtree:false});placeholders[id].observer=observer}const exposed={render(html,id){if(placeholders[id]&&placeholders[id].observer){placeholders[id].observer.disconnect()}placeholders[id]={html:html}},html(){Object.keys(placeholders).filter(id=>placeholders[id].html).forEach(id=>{if(!document.querySelector(id)){throw new Error(`Trying to render, but could not find placeholder ${id}`)}addObserver(id);document.querySelector(id).innerHTML=placeholders[id].html;document.querySelector(id).setAttribute("lg-placeholder",id);delete placeholders[id].html})}};return exposed})},{}],2:[function(require,module,exports){module.exports=(update=>{document.addEventListener("click",event=>{if(event.target.nodeName.toLowerCase()==="a"&&event.target.getAttribute("href")&&event.target.getAttribute("href")[0]==="/"){event.preventDefault();const url=event.target.getAttribute("href");history.pushState({url:url},url,url);update({matchValue:url},{url:url})}});window.onpopstate=function(request){if(request&&request.state&&request.state.url){update({matchValue:request.state.url},request.state)}};return{redirect(url){history.pushState({url:url},url,url);update({matchValue:url},{url:url})}}})},{}],3:[function(require,module,exports){const check=require("check-types");module.exports=((environmentId,options={})=>{const defaultUpdateType="get";let resetAfterCycle=true;let traditional=[];let stack=[];let extensions={};let relay;let parser=require("lr-url-parser")();let availableMiddleware={};let executingEnvironmentId=environmentId;let selectedEnvironmentIds=[environmentId];let environments={};const exposed={extension:extension,middleware:middleware,where:where,run:run,error:error,noMatch:noMatch,done:done,update:update};if(options.parser){check.assert.function(options.parser.add,'Parser needs to have a method called "add"');check.assert.function(options.parser.parse,'Parser needs to have a method called "parse"');parser=options.parser}if(options.resetAfterCycle!==undefined){check.assert.boolean(options.resetAfterCycle,"resetAfterCycle needs to be a boolean");resetAfterCycle=options.resetAfterCycle}environments[environmentId]=environment(environmentId);relay=setRelay();function setRelay(){if(resetAfterCycle){return{extensions:extensions}}else if(!relay){return{extensions:{}}}else{return relay}}function environment(id){check.assert.not.undefined(id,"Environment id cannot be empty");check.assert.match(id,/^[a-z0-9]+$/i,"Environment id needs to be a string containing only letters and or numbers");return{id:id,matches:{},middleware:[],noMatch:[],error:[],done:[]}}function extension(id,extension,isUpdater=false){check.assert.not.undefined(id,"Extension id cannot be empty");check.assert.not.undefined(extension,"Extension cannot be empty");check.assert.match(id,/^[a-z0-9]+$/i,"Extension id needs to be a string containing only letters and or numbers");check.assert.not.assigned(extensions[id],`"${id}" has already been defined as an extension`);extensions[id]=isUpdater?extension(update):extension;return exposed}function middleware(newMiddleware,...traditionals){check.assert.nonEmptyObject(newMiddleware,"Provided middleware needs to be a non empty object");Object.keys(newMiddleware).forEach(id=>{check.assert.not.assigned(availableMiddleware[id],`"${id}" has already been defined as middleware`);check.assert.function(newMiddleware[id],`"${id}" middleware is not a function`)});if(traditionals.length){check.assert.array.of.string(traditionals,"All traditional middleware names need to be strings");traditionals.forEach((id,index)=>{check.assert.equal(traditionals.indexOf(id),index,`Duplicate values found for traditional middleware "${id}"`);check.assert.equal(traditional.indexOf(id),-1,`"${id}" has already been defined as a traditional middleware function`)});traditional=[...traditional,...traditionals]}availableMiddleware=Object.assign({},availableMiddleware,newMiddleware);return exposed}function where(...environmentIds){check.assert.greater(environmentIds.length,0,"Where method missing parameters");environmentIds.forEach(id=>{check.assert.not.undefined(id,"Environment id cannot be empty");check.assert.match(id,/^[a-z0-9]+$/i,"Environment id needs to be a string containing only letters and or numbers");if(!environments[id]){environments[id]=environment(id)}});selectedEnvironmentIds=environmentIds;return exposed}function run(matchValue,middlewareId,updateType=defaultUpdateType){check.assert.not.undefined(matchValue,"Match value cannot be empty");check.assert.string(matchValue,"Match value needs to be a string");check.assert.not.undefined(middlewareId,"Middleware id cannot be empty");check.assert.match(middlewareId,/^[a-z0-9\.]+$/i,'Middleware id needs to be a string containing only letters,numbers and an optional "."');check.assert.match(updateType,/^[a-z0-9]+$/i,"Update type needs to be a string containing only letters and or numbers");selectedEnvironmentIds.forEach(environmentId=>{environments[environmentId].middleware.push({matchValue:matchValue,id:middlewareId,updateType:updateType.toLowerCase()})});return exposed}function error(middlewareId,updateType=defaultUpdateType){check.assert.zero(arguments.length-1,"Error needs exactly one argument");check.assert.match(middlewareId,/^[a-z0-9\.]+$/i,'Middleware id needs to be a string containing only letters,numbers and an optional "."');selectedEnvironmentIds.forEach(id=>environments[id].error.push({id:middlewareId,updateType:updateType}));return exposed}function noMatch(middlewareId,updateType=defaultUpdateType){check.assert.zero(arguments.length-1,"NoMatch needs exactly one argument");check.assert.match(middlewareId,/^[a-z0-9\.]+$/i,'Middleware id needs to be a string containing only letters,numbers and an optional "."');selectedEnvironmentIds.forEach(id=>environments[id].noMatch.push({id:middlewareId,updateType:updateType}));return exposed}function done(middlewareId,updateType=defaultUpdateType){check.assert.zero(arguments.length-1,"Done needs exactly one argument");check.assert.match(middlewareId,/^[a-z0-9\.]+$/i,'Middleware id needs to be a string containing only letters,numbers and an optional "."');selectedEnvironmentIds.forEach(id=>environments[id].done.push({id:middlewareId,updateType:updateType}));return exposed}function update(options,...parameters){check.assert.assigned(options.matchValue,"Update function cannot find a matchValue");const matchValue=parser.parse(options.matchValue);const updateType=options.updateType?options.updateType.toLowerCase():defaultUpdateType;relay=setRelay();relay.parameters=matchValue.parameters;const environment=environments[executingEnvironmentId];let middleware=environment.middleware.filter(record=>record.matchValue===matchValue.path||record.matchValue==="*").filter(record=>record.updateType===updateType);stack=[...stack,...middleware];function addNoMatchMiddleware(){stack=[...stack,...environment.noMatch.filter(middleware=>middleware.updateType===updateType)]}function addDoneMiddleware(){stack=[...stack,...environment.done.filter(middleware=>middleware.updateType===updateType)]}function addErrorMiddleware(){stack=[...stack,...environment.error.filter(middleware=>middleware.updateType===updateType)]}if(middleware.length===0){addNoMatchMiddleware()}addDoneMiddleware();function thunkify(record){const id=record.id;const callback=availableMiddleware[id];check.assert.assigned(callback,`Middleware ${id} not found`);check.assert.function(callback,"Middleware needs to be a function");return function(defined={}){check.assert.object(defined,"Relay additions need to be an object");relay=Object.assign({},relay,defined);const next=stack.length===0?()=>{}:thunkify(stack.shift());if(traditional.indexOf(id)>-1){callback(...parameters,next)}else{callback(next,relay,...parameters)}}}try{if(stack.length>0){thunkify(stack.shift())(relay)}else{console.warn(`No middleware found for current update cycle matchValue: ${matchValue.path}, updateType: ${updateType}`)}}catch(error){stack=[];addErrorMiddleware();addDoneMiddleware();relay.error=error;if(stack.length>0){thunkify(stack.shift())(relay)}else{console.error(`Error but no middleware found, path: ${matchValue.path}, updateType: ${updateType}`);console.error(error)}}}return exposed})},{"check-types":4,"lr-url-parser":5}],4:[function(require,module,exports){(function(globals){"use strict";var strings,messages,predicates,functions,assert,not,maybe,collections,slice;strings={v:"value",n:"number",s:"string",b:"boolean",o:"object",t:"type",a:"array",al:"array-like",i:"iterable",d:"date",f:"function",l:"length"};messages={};predicates={};[{n:"equal",f:equal,s:"v"},{n:"undefined",f:isUndefined,s:"v"},{n:"null",f:isNull,s:"v"},{n:"assigned",f:assigned,s:"v"},{n:"includes",f:includes,s:"v"},{n:"zero",f:zero},{n:"infinity",f:infinity},{n:"number",f:number},{n:"integer",f:integer},{n:"even",f:even},{n:"odd",f:odd},{n:"greater",f:greater},{n:"less",f:less},{n:"between",f:between},{n:"greaterOrEqual",f:greaterOrEqual},{n:"lessOrEqual",f:lessOrEqual},{n:"inRange",f:inRange},{n:"positive",f:positive},{n:"negative",f:negative},{n:"string",f:string,s:"s"},{n:"emptyString",f:emptyString,s:"s"},{n:"nonEmptyString",f:nonEmptyString,s:"s"},{n:"contains",f:contains,s:"s"},{n:"match",f:match,s:"s"},{n:"boolean",f:boolean,s:"b"},{n:"object",f:object,s:"o"},{n:"emptyObject",f:emptyObject,s:"o"},{n:"nonEmptyObject",f:nonEmptyObject,s:"o"},{n:"instanceStrict",f:instanceStrict,s:"t"},{n:"instance",f:instance,s:"t"},{n:"like",f:like,s:"t"},{n:"array",f:array,s:"a"},{n:"emptyArray",f:emptyArray,s:"a"},{n:"nonEmptyArray",f:nonEmptyArray,s:"a"},{n:"arrayLike",f:arrayLike,s:"al"},{n:"iterable",f:iterable,s:"i"},{n:"date",f:date,s:"d"},{n:"function",f:isFunction,s:"f"},{n:"hasLength",f:hasLength,s:"l"}].map(function(data){var n=data.n;messages[n]="Invalid "+strings[data.s||"n"];predicates[n]=data.f});functions={apply:apply,map:map,all:all,any:any};collections=["array","arrayLike","iterable","object"];slice=Array.prototype.slice;functions=mixin(functions,predicates);assert=createModifiedPredicates(assertModifier,assertImpl);not=createModifiedPredicates(notModifier,notImpl);maybe=createModifiedPredicates(maybeModifier,maybeImpl);assert.not=createModifiedModifier(assertModifier,not);assert.maybe=createModifiedModifier(assertModifier,maybe);collections.forEach(createOfPredicates);createOfModifiers(assert,assertModifier);createOfModifiers(not,notModifier);collections.forEach(createMaybeOfModifiers);exportFunctions(mixin(functions,{assert:assert,not:not,maybe:maybe}));function equal(lhs,rhs){return lhs===rhs}function isUndefined(data){return data===undefined}function isNull(data){return data===null}function assigned(data){return!isUndefined(data)&&!isNull(data)}function zero(data){return data===0}function infinity(data){return data===Number.POSITIVE_INFINITY||data===Number.NEGATIVE_INFINITY}function number(data){return typeof data==="number"&&isNaN(data)===false&&data!==Number.POSITIVE_INFINITY&&data!==Number.NEGATIVE_INFINITY}function integer(data){return number(data)&&data%1===0}function even(data){return number(data)&&data%2===0}function odd(data){return integer(data)&&!even(data)}function greater(lhs,rhs){return number(lhs)&&lhs>rhs}function less(lhs,rhs){return number(lhs)&&lhs<rhs}function between(data,x,y){if(x<y){return greater(data,x)&&less(data,y)}return less(data,x)&&greater(data,y)}function greaterOrEqual(lhs,rhs){return number(lhs)&&lhs>=rhs}function lessOrEqual(lhs,rhs){return number(lhs)&&lhs<=rhs}function inRange(data,x,y){if(x<y){return greaterOrEqual(data,x)&&lessOrEqual(data,y)}return lessOrEqual(data,x)&&greaterOrEqual(data,y)}function positive(data){return greater(data,0)}function negative(data){return less(data,0)}function string(data){return typeof data==="string"}function emptyString(data){return data===""}function nonEmptyString(data){return string(data)&&data!==""}function contains(data,substring){return string(data)&&data.indexOf(substring)!==-1}function match(data,regex){return string(data)&&!!data.match(regex)}function boolean(data){return data===false||data===true}function object(data){return Object.prototype.toString.call(data)==="[object Object]"}function emptyObject(data){return object(data)&&Object.keys(data).length===0}function nonEmptyObject(data){return object(data)&&Object.keys(data).length>0}function instanceStrict(data,prototype){try{return data instanceof prototype}catch(error){return false}}function instance(data,prototype){try{return instanceStrict(data,prototype)||data.constructor.name===prototype.name||Object.prototype.toString.call(data)==="[object "+prototype.name+"]"}catch(error){return false}}function like(data,archetype){var name;for(name in archetype){if(archetype.hasOwnProperty(name)){if(data.hasOwnProperty(name)===false||typeof data[name]!==typeof archetype[name]){return false}if(object(data[name])&&like(data[name],archetype[name])===false){return false}}}return true}function array(data){return Array.isArray(data)}function emptyArray(data){return array(data)&&data.length===0}function nonEmptyArray(data){return array(data)&&data.length>0}function arrayLike(data){return assigned(data)&&number(data.length)}function iterable(data){if(typeof Symbol==="undefined"){return arrayLike(data)}return assigned(data)&&isFunction(data[Symbol.iterator])}function includes(data,value){var iterator,iteration;if(not.assigned(data)){return false}try{if(typeof Symbol!=="undefined"&&data[Symbol.iterator]&&isFunction(data.values)){iterator=data.values();do{iteration=iterator.next();if(iteration.value===value){return true}}while(!iteration.done);return false}Object.keys(data).forEach(function(key){if(data[key]===value){throw 0}})}catch(ignore){return true}return false}function hasLength(data,length){return assigned(data)&&data.length===length}function date(data){try{return instance(data,Date)&&integer(data.getTime())}catch(error){return false}}function isFunction(data){return typeof data==="function"}function apply(data,predicates){assert.array(data);if(isFunction(predicates)){return data.map(function(value){return predicates(value)})}assert.array(predicates);assert.hasLength(data,predicates.length);return data.map(function(value,index){return predicates[index](value)})}function map(data,predicates){assert.object(data);if(isFunction(predicates)){return mapSimple(data,predicates)}assert.object(predicates);return mapComplex(data,predicates)}function mapSimple(data,predicate){var result={};Object.keys(data).forEach(function(key){result[key]=predicate(data[key])});return result}function mapComplex(data,predicates){var result={};Object.keys(predicates).forEach(function(key){var predicate=predicates[key];if(isFunction(predicate)){if(not.assigned(data)){result[key]=!!predicate.m}else{result[key]=predicate(data[key])}}else if(object(predicate)){result[key]=mapComplex(data[key],predicate)}});return result}function all(data){if(array(data)){return testArray(data,false)}assert.object(data);return testObject(data,false)}function testArray(data,result){var i;for(i=0;i<data.length;i+=1){if(data[i]===result){return result}}return!result}function testObject(data,result){var key,value;for(key in data){if(data.hasOwnProperty(key)){value=data[key];if(object(value)&&testObject(value,result)===result){return result}if(value===result){return result}}}return!result}function any(data){if(array(data)){return testArray(data,true)}assert.object(data);return testObject(data,true)}function mixin(target,source){Object.keys(source).forEach(function(key){target[key]=source[key]});return target}function assertModifier(predicate,defaultMessage){return function(){assertPredicate(predicate,arguments,defaultMessage)}}function assertPredicate(predicate,args,defaultMessage){var argCount=predicate.l||predicate.length;var message=args[argCount];var ErrorType=args[argCount+1];assertImpl(predicate.apply(null,args),nonEmptyString(message)?message:defaultMessage,isFunction(ErrorType)?ErrorType:TypeError)}function assertImpl(value,message,ErrorType){if(value===false){throw new(ErrorType||Error)(message||"Assertion failed")}}function notModifier(predicate){var modifiedPredicate=function(){return notImpl(predicate.apply(null,arguments))};modifiedPredicate.l=predicate.length;return modifiedPredicate}function notImpl(value){return!value}function maybeModifier(predicate){var modifiedPredicate=function(){if(not.assigned(arguments[0])){return true}return predicate.apply(null,arguments)};modifiedPredicate.l=predicate.length;modifiedPredicate.m=true;return modifiedPredicate}function maybeImpl(value){if(assigned(value)===false){return true}return value}function ofModifier(target,type,predicate){var modifiedPredicate=function(){var collection,args;collection=arguments[0];if(target==="maybe"&&not.assigned(collection)){return true}if(!type(collection)){return false}collection=coerceCollection(type,collection);args=slice.call(arguments,1);try{collection.forEach(function(item){if((target!=="maybe"||assigned(item))&&!predicate.apply(null,[item].concat(args))){throw 0}})}catch(ignore){return false}return true};modifiedPredicate.l=predicate.length;return modifiedPredicate}function coerceCollection(type,collection){switch(type){case arrayLike:return slice.call(collection);case object:return Object.keys(collection).map(function(key){return collection[key]});default:return collection}}function createModifiedPredicates(modifier,object){return createModifiedFunctions([modifier,predicates,object])}function createModifiedFunctions(args){var modifier,object,functions,result;modifier=args.shift();object=args.pop();functions=args.pop();result=object||{};Object.keys(functions).forEach(function(key){Object.defineProperty(result,key,{configurable:false,enumerable:true,writable:false,value:modifier.apply(null,args.concat(functions[key],messages[key]))})});return result}function createModifiedModifier(modifier,modified){return createModifiedFunctions([modifier,modified,null])}function createOfPredicates(key){predicates[key].of=createModifiedFunctions([ofModifier.bind(null,null),predicates[key],predicates,null])}function createOfModifiers(base,modifier){collections.forEach(function(key){base[key].of=createModifiedModifier(modifier,predicates[key].of)})}function createMaybeOfModifiers(key){maybe[key].of=createModifiedFunctions([ofModifier.bind(null,"maybe"),predicates[key],predicates,null]);assert.maybe[key].of=createModifiedModifier(assertModifier,maybe[key].of);assert.not[key].of=createModifiedModifier(assertModifier,not[key].of)}function exportFunctions(functions){if(typeof define==="function"&&define.amd){define(function(){return functions})}else if(typeof module!=="undefined"&&module!==null&&module.exports){module.exports=functions}else{globals.check=functions}}})(this)},{}],5:[function(require,module,exports){"use-strict";module.exports=function(){let paths=[];let unique={};function parts(path){let parts=path.split("?").shift().split("/");parts.shift();return parts.map(part=>{return{root:!part?true:false,static:part[0]!==":",value:part[0]===":"?part.slice(1):part}})}return{add(path){if(path[0]==="/"&&!unique[path]){paths.push({path:path,parts:parts(path)});unique[path]=true;return true}else{return false}},parse(path){if(path[0]!=="/"){return{path:path}}const needle=parts(path);let match=paths.filter(path=>path.parts.length===needle.length).filter(path=>{return path.parts.filter((part,index)=>{return part.value!==needle[index].value&&part.static}).length===0});if(match.length>0){match=match.pop()}if(!Array.isArray(match)){let parameters={};match.parts.forEach((part,index)=>{if(!part.static){parameters[part.value]=parseInt(needle[index].value)}});return{path:match.path,parameters:parameters}}return{path:path.split("?").shift()}}}}},{}],6:[function(require,module,exports){(function(window){"use strict";if(window.jQuery){return}var $=function(selector,context){return new $.fn.init(selector,context)};$.isWindow=function(obj){return obj&&obj===obj.window};$.type=function(obj){if(!obj){return obj+""}return typeof obj==="object"||typeof obj==="function"?class2type[toString.call(obj)]||"object":typeof obj};$.isArray=Array.isArray||function(obj){return $.type(obj)==="array"};function isArraylike(obj){var length=obj.length,type=$.type(obj);if(type==="function"||$.isWindow(obj)){return false}if(obj.nodeType===1&&length){return true}return type==="array"||length===0||typeof length==="number"&&length>0&&length-1 in obj}$.isPlainObject=function(obj){var key;if(!obj||$.type(obj)!=="object"||obj.nodeType||$.isWindow(obj)){return false}try{if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf")){return false}}catch(e){return false}for(key in obj){}return key===undefined||hasOwn.call(obj,key)};$.each=function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray){for(;i<length;i++){value=callback.apply(obj[i],args);if(value===false){break}}}else{for(i in obj){if(!obj.hasOwnProperty(i)){continue}value=callback.apply(obj[i],args);if(value===false){break}}}}else{if(isArray){for(;i<length;i++){value=callback.call(obj[i],i,obj[i]);if(value===false){break}}}else{for(i in obj){if(!obj.hasOwnProperty(i)){continue}value=callback.call(obj[i],i,obj[i]);if(value===false){break}}}}return obj};$.data=function(node,key,value){if(value===undefined){var getId=node[$.expando],store=getId&&cache[getId];if(key===undefined){return store}else if(store){if(key in store){return store[key]}}}else if(key!==undefined){var setId=node[$.expando]||(node[$.expando]=++$.uuid);cache[setId]=cache[setId]||{};cache[setId][key]=value;return value}};$.removeData=function(node,keys){var id=node[$.expando],store=id&&cache[id];if(store){if(!keys){delete cache[id]}else{$.each(keys,function(_,key){delete store[key]})}}};$.extend=function(){var src,copyIsArray,copy,name,options,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[i]||{};i++}if(typeof target!=="object"&&$.type(target)!=="function"){target={}}if(i===length){target=this;i--}for(;i<length;i++){if(options=arguments[i]){for(name in options){if(!options.hasOwnProperty(name)){continue}src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&($.isPlainObject(copy)||(copyIsArray=$.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&$.isArray(src)?src:[]}else{clone=src&&$.isPlainObject(src)?src:{}}target[name]=$.extend(deep,clone,copy)}else if(copy!==undefined){target[name]=copy}}}}return target};$.queue=function(elem,type,data){function $makeArray(arr,results){var ret=results||[];if(arr){if(isArraylike(Object(arr))){(function(first,second){var len=+second.length,j=0,i=first.length;while(j<len){first[i++]=second[j++]}if(len!==len){while(second[j]!==undefined){first[i++]=second[j++]}}first.length=i;return first})(ret,typeof arr==="string"?[arr]:arr)}else{[].push.call(ret,arr)}}return ret}if(!elem){return}type=(type||"fx")+"queue";var q=$.data(elem,type);if(!data){return q||[]}if(!q||$.isArray(data)){q=$.data(elem,type,$makeArray(data))}else{q.push(data)}return q};$.dequeue=function(elems,type){$.each(elems.nodeType?[elems]:elems,function(i,elem){type=type||"fx";var queue=$.queue(elem,type),fn=queue.shift();if(fn==="inprogress"){fn=queue.shift()}if(fn){if(type==="fx"){queue.unshift("inprogress")}fn.call(elem,function(){$.dequeue(elem,type)})}})};$.fn=$.prototype={init:function(selector){if(selector.nodeType){this[0]=selector;return this}else{throw new Error("Not a DOM node.")}},offset:function(){var box=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:box.top+(window.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:box.left+(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function offsetParentFn(elem){var offsetParent=elem.offsetParent;while(offsetParent&&offsetParent.nodeName.toLowerCase()!=="html"&&offsetParent.style&&offsetParent.style.position==="static"){offsetParent=offsetParent.offsetParent}return offsetParent||document}var elem=this[0],offsetParent=offsetParentFn(elem),offset=this.offset(),parentOffset=/^(?:body|html)$/i.test(offsetParent.nodeName)?{top:0,left:0}:$(offsetParent).offset();offset.top-=parseFloat(elem.style.marginTop)||0;offset.left-=parseFloat(elem.style.marginLeft)||0;if(offsetParent.style){parentOffset.top+=parseFloat(offsetParent.style.borderTopWidth)||0;parentOffset.left+=parseFloat(offsetParent.style.borderLeftWidth)||0}return{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}}};var cache={};$.expando="velocity"+(new Date).getTime();$.uuid=0;var class2type={},hasOwn=class2type.hasOwnProperty,toString=class2type.toString;var types="Boolean Number String Function Array Date RegExp Object Error".split(" ");for(var i=0;i<types.length;i++){class2type["[object "+types[i]+"]"]=types[i].toLowerCase()}$.fn.init.prototype=$.fn;window.Velocity={Utilities:$}})(window);(function(factory){"use strict";if(typeof module==="object"&&typeof module.exports==="object"){module.exports=factory()}else if(typeof define==="function"&&define.amd){define(factory)}else{factory()}})(function(){"use strict";return function(global,window,document,undefined){var IE=function(){if(document.documentMode){return document.documentMode}else{for(var i=7;i>4;i--){var div=document.createElement("div");div.innerHTML="<!--[if IE "+i+"]><span></span><![endif]-->";if(div.getElementsByTagName("span").length){div=null;return i}}}return undefined}();var rAFShim=function(){var timeLast=0;return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(callback){var timeCurrent=(new Date).getTime(),timeDelta;timeDelta=Math.max(0,16-(timeCurrent-timeLast));timeLast=timeCurrent+timeDelta;return setTimeout(function(){callback(timeCurrent+timeDelta)},timeDelta)}}();var performance=function(){var perf=window.performance||{};if(typeof perf.now!=="function"){var nowOffset=perf.timing&&perf.timing.navigationStart?perf.timing.navigationStart:(new Date).getTime();perf.now=function(){return(new Date).getTime()-nowOffset}}return perf}();function compactSparseArray(array){var index=-1,length=array?array.length:0,result=[];while(++index<length){var value=array[index];if(value){result.push(value)}}return result}var _slice=function(){var slice=Array.prototype.slice;try{slice.call(document.documentElement);return slice}catch(e){return function(begin,end){var len=this.length;if(typeof begin!=="number"){begin=0}if(typeof end!=="number"){end=len}if(this.slice){return slice.call(this,begin,end)}var i,cloned=[],start=begin>=0?begin:Math.max(0,len+begin),upTo=end<0?len+end:Math.min(end,len),size=upTo-start;if(size>0){cloned=new Array(size);if(this.charAt){for(i=0;i<size;i++){cloned[i]=this.charAt(start+i)}}else{for(i=0;i<size;i++){cloned[i]=this[start+i]}}}return cloned}}}();var _inArray=function(){if(Array.prototype.includes){return function(arr,val){return arr.includes(val)}}if(Array.prototype.indexOf){return function(arr,val){return arr.indexOf(val)>=0}}return function(arr,val){for(var i=0;i<arr.length;i++){if(arr[i]===val){return true}}return false}};function sanitizeElements(elements){if(Type.isWrapped(elements)){elements=_slice.call(elements)}else if(Type.isNode(elements)){elements=[elements]}return elements}var Type={isNumber:function(variable){return typeof variable==="number"},isString:function(variable){return typeof variable==="string"},isArray:Array.isArray||function(variable){return Object.prototype.toString.call(variable)==="[object Array]"},isFunction:function(variable){return Object.prototype.toString.call(variable)==="[object Function]"},isNode:function(variable){return variable&&variable.nodeType},isWrapped:function(variable){return variable&&variable!==window&&Type.isNumber(variable.length)&&!Type.isString(variable)&&!Type.isFunction(variable)&&!Type.isNode(variable)&&(variable.length===0||Type.isNode(variable[0]))},isSVG:function(variable){return window.SVGElement&&variable instanceof window.SVGElement},isEmptyObject:function(variable){for(var name in variable){if(variable.hasOwnProperty(name)){return false}}return true}};var $,isJQuery=false;if(global.fn&&global.fn.jquery){$=global;isJQuery=true}else{$=window.Velocity.Utilities}if(IE<=8&&!isJQuery){throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.")}else if(IE<=7){jQuery.fn.velocity=jQuery.fn.animate;return}var DURATION_DEFAULT=400,EASING_DEFAULT="swing";var Velocity={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:window.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:document.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:false,calls:[],delayedElements:{count:0}},CSS:{},Utilities:$,Redirects:{},Easings:{},Promise:window.Promise,defaults:{queue:"",duration:DURATION_DEFAULT,easing:EASING_DEFAULT,begin:undefined,complete:undefined,progress:undefined,display:undefined,visibility:undefined,loop:false,delay:false,mobileHA:true,_cacheValues:true,promiseRejectEmpty:true},init:function(element){$.data(element,"velocity",{isSVG:Type.isSVG(element),isAnimating:false,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:false,version:{major:1,minor:5,patch:0},debug:false,timestamp:true,pauseAll:function(queueName){var currentTime=(new Date).getTime();$.each(Velocity.State.calls,function(i,activeCall){if(activeCall){if(queueName!==undefined&&(activeCall[2].queue!==queueName||activeCall[2].queue===false)){return true}activeCall[5]={resume:false}}});$.each(Velocity.State.delayedElements,function(k,element){if(!element){return}pauseDelayOnElement(element,currentTime)})},resumeAll:function(queueName){var currentTime=(new Date).getTime();$.each(Velocity.State.calls,function(i,activeCall){if(activeCall){if(queueName!==undefined&&(activeCall[2].queue!==queueName||activeCall[2].queue===false)){return true}if(activeCall[5]){activeCall[5].resume=true}}});$.each(Velocity.State.delayedElements,function(k,element){if(!element){return}resumeDelayOnElement(element,currentTime)})}};if(window.pageYOffset!==undefined){Velocity.State.scrollAnchor=window;Velocity.State.scrollPropertyLeft="pageXOffset";Velocity.State.scrollPropertyTop="pageYOffset"}else{Velocity.State.scrollAnchor=document.documentElement||document.body.parentNode||document.body;Velocity.State.scrollPropertyLeft="scrollLeft";Velocity.State.scrollPropertyTop="scrollTop"}function Data(element){var response=$.data(element,"velocity");return response===null?undefined:response}function pauseDelayOnElement(element,currentTime){var data=Data(element);if(data&&data.delayTimer&&!data.delayPaused){data.delayRemaining=data.delay-currentTime+data.delayBegin;data.delayPaused=true;clearTimeout(data.delayTimer.setTimeout)}}function resumeDelayOnElement(element,currentTime){var data=Data(element);if(data&&data.delayTimer&&data.delayPaused){data.delayPaused=false;data.delayTimer.setTimeout=setTimeout(data.delayTimer.next,data.delayRemaining);
}}function generateStep(steps){return function(p){return Math.round(p*steps)*(1/steps)}}function generateBezier(mX1,mY1,mX2,mY2){var NEWTON_ITERATIONS=4,NEWTON_MIN_SLOPE=.001,SUBDIVISION_PRECISION=1e-7,SUBDIVISION_MAX_ITERATIONS=10,kSplineTableSize=11,kSampleStepSize=1/(kSplineTableSize-1),float32ArraySupported="Float32Array"in window;if(arguments.length!==4){return false}for(var i=0;i<4;++i){if(typeof arguments[i]!=="number"||isNaN(arguments[i])||!isFinite(arguments[i])){return false}}mX1=Math.min(mX1,1);mX2=Math.min(mX2,1);mX1=Math.max(mX1,0);mX2=Math.max(mX2,0);var mSampleValues=float32ArraySupported?new Float32Array(kSplineTableSize):new Array(kSplineTableSize);function A(aA1,aA2){return 1-3*aA2+3*aA1}function B(aA1,aA2){return 3*aA2-6*aA1}function C(aA1){return 3*aA1}function calcBezier(aT,aA1,aA2){return((A(aA1,aA2)*aT+B(aA1,aA2))*aT+C(aA1))*aT}function getSlope(aT,aA1,aA2){return 3*A(aA1,aA2)*aT*aT+2*B(aA1,aA2)*aT+C(aA1)}function newtonRaphsonIterate(aX,aGuessT){for(var i=0;i<NEWTON_ITERATIONS;++i){var currentSlope=getSlope(aGuessT,mX1,mX2);if(currentSlope===0){return aGuessT}var currentX=calcBezier(aGuessT,mX1,mX2)-aX;aGuessT-=currentX/currentSlope}return aGuessT}function calcSampleValues(){for(var i=0;i<kSplineTableSize;++i){mSampleValues[i]=calcBezier(i*kSampleStepSize,mX1,mX2)}}function binarySubdivide(aX,aA,aB){var currentX,currentT,i=0;do{currentT=aA+(aB-aA)/2;currentX=calcBezier(currentT,mX1,mX2)-aX;if(currentX>0){aB=currentT}else{aA=currentT}}while(Math.abs(currentX)>SUBDIVISION_PRECISION&&++i<SUBDIVISION_MAX_ITERATIONS);return currentT}function getTForX(aX){var intervalStart=0,currentSample=1,lastSample=kSplineTableSize-1;for(;currentSample!==lastSample&&mSampleValues[currentSample]<=aX;++currentSample){intervalStart+=kSampleStepSize}--currentSample;var dist=(aX-mSampleValues[currentSample])/(mSampleValues[currentSample+1]-mSampleValues[currentSample]),guessForT=intervalStart+dist*kSampleStepSize,initialSlope=getSlope(guessForT,mX1,mX2);if(initialSlope>=NEWTON_MIN_SLOPE){return newtonRaphsonIterate(aX,guessForT)}else if(initialSlope===0){return guessForT}else{return binarySubdivide(aX,intervalStart,intervalStart+kSampleStepSize)}}var _precomputed=false;function precompute(){_precomputed=true;if(mX1!==mY1||mX2!==mY2){calcSampleValues()}}var f=function(aX){if(!_precomputed){precompute()}if(mX1===mY1&&mX2===mY2){return aX}if(aX===0){return 0}if(aX===1){return 1}return calcBezier(getTForX(aX),mY1,mY2)};f.getControlPoints=function(){return[{x:mX1,y:mY1},{x:mX2,y:mY2}]};var str="generateBezier("+[mX1,mY1,mX2,mY2]+")";f.toString=function(){return str};return f}var generateSpringRK4=function(){function springAccelerationForState(state){return-state.tension*state.x-state.friction*state.v}function springEvaluateStateWithDerivative(initialState,dt,derivative){var state={x:initialState.x+derivative.dx*dt,v:initialState.v+derivative.dv*dt,tension:initialState.tension,friction:initialState.friction};return{dx:state.v,dv:springAccelerationForState(state)}}function springIntegrateState(state,dt){var a={dx:state.v,dv:springAccelerationForState(state)},b=springEvaluateStateWithDerivative(state,dt*.5,a),c=springEvaluateStateWithDerivative(state,dt*.5,b),d=springEvaluateStateWithDerivative(state,dt,c),dxdt=1/6*(a.dx+2*(b.dx+c.dx)+d.dx),dvdt=1/6*(a.dv+2*(b.dv+c.dv)+d.dv);state.x=state.x+dxdt*dt;state.v=state.v+dvdt*dt;return state}return function springRK4Factory(tension,friction,duration){var initState={x:-1,v:0,tension:null,friction:null},path=[0],time_lapsed=0,tolerance=1/1e4,DT=16/1e3,have_duration,dt,last_state;tension=parseFloat(tension)||500;friction=parseFloat(friction)||20;duration=duration||null;initState.tension=tension;initState.friction=friction;have_duration=duration!==null;if(have_duration){time_lapsed=springRK4Factory(tension,friction);dt=time_lapsed/duration*DT}else{dt=DT}while(true){last_state=springIntegrateState(last_state||initState,dt);path.push(1+last_state.x);time_lapsed+=16;if(!(Math.abs(last_state.x)>tolerance&&Math.abs(last_state.v)>tolerance)){break}}return!have_duration?time_lapsed:function(percentComplete){return path[percentComplete*(path.length-1)|0]}}}();Velocity.Easings={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},spring:function(p){return 1-Math.cos(p*4.5*Math.PI)*Math.exp(-p*6)}};$.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(i,easingArray){Velocity.Easings[easingArray[0]]=generateBezier.apply(null,easingArray[1])});function getEasing(value,duration){var easing=value;if(Type.isString(value)){if(!Velocity.Easings[value]){easing=false}}else if(Type.isArray(value)&&value.length===1){easing=generateStep.apply(null,value)}else if(Type.isArray(value)&&value.length===2){easing=generateSpringRK4.apply(null,value.concat([duration]))}else if(Type.isArray(value)&&value.length===4){easing=generateBezier.apply(null,value)}else{easing=false}if(easing===false){if(Velocity.Easings[Velocity.defaults.easing]){easing=Velocity.defaults.easing}else{easing=EASING_DEFAULT}}return easing}var CSS=Velocity.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"],units:["%","em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","Q","in","pc","pt","px","deg","grad","rad","turn","s","ms"],colorNames:{aliceblue:"240,248,255",antiquewhite:"250,235,215",aquamarine:"127,255,212",aqua:"0,255,255",azure:"240,255,255",beige:"245,245,220",bisque:"255,228,196",black:"0,0,0",blanchedalmond:"255,235,205",blueviolet:"138,43,226",blue:"0,0,255",brown:"165,42,42",burlywood:"222,184,135",cadetblue:"95,158,160",chartreuse:"127,255,0",chocolate:"210,105,30",coral:"255,127,80",cornflowerblue:"100,149,237",cornsilk:"255,248,220",crimson:"220,20,60",cyan:"0,255,255",darkblue:"0,0,139",darkcyan:"0,139,139",darkgoldenrod:"184,134,11",darkgray:"169,169,169",darkgrey:"169,169,169",darkgreen:"0,100,0",darkkhaki:"189,183,107",darkmagenta:"139,0,139",darkolivegreen:"85,107,47",darkorange:"255,140,0",darkorchid:"153,50,204",darkred:"139,0,0",darksalmon:"233,150,122",darkseagreen:"143,188,143",darkslateblue:"72,61,139",darkslategray:"47,79,79",darkturquoise:"0,206,209",darkviolet:"148,0,211",deeppink:"255,20,147",deepskyblue:"0,191,255",dimgray:"105,105,105",dimgrey:"105,105,105",dodgerblue:"30,144,255",firebrick:"178,34,34",floralwhite:"255,250,240",forestgreen:"34,139,34",fuchsia:"255,0,255",gainsboro:"220,220,220",ghostwhite:"248,248,255",gold:"255,215,0",goldenrod:"218,165,32",gray:"128,128,128",grey:"128,128,128",greenyellow:"173,255,47",green:"0,128,0",honeydew:"240,255,240",hotpink:"255,105,180",indianred:"205,92,92",indigo:"75,0,130",ivory:"255,255,240",khaki:"240,230,140",lavenderblush:"255,240,245",lavender:"230,230,250",lawngreen:"124,252,0",lemonchiffon:"255,250,205",lightblue:"173,216,230",lightcoral:"240,128,128",lightcyan:"224,255,255",lightgoldenrodyellow:"250,250,210",lightgray:"211,211,211",lightgrey:"211,211,211",lightgreen:"144,238,144",lightpink:"255,182,193",lightsalmon:"255,160,122",lightseagreen:"32,178,170",lightskyblue:"135,206,250",lightslategray:"119,136,153",lightsteelblue:"176,196,222",lightyellow:"255,255,224",limegreen:"50,205,50",lime:"0,255,0",linen:"250,240,230",magenta:"255,0,255",maroon:"128,0,0",mediumaquamarine:"102,205,170",mediumblue:"0,0,205",mediumorchid:"186,85,211",mediumpurple:"147,112,219",mediumseagreen:"60,179,113",mediumslateblue:"123,104,238",mediumspringgreen:"0,250,154",mediumturquoise:"72,209,204",mediumvioletred:"199,21,133",midnightblue:"25,25,112",mintcream:"245,255,250",mistyrose:"255,228,225",moccasin:"255,228,181",navajowhite:"255,222,173",navy:"0,0,128",oldlace:"253,245,230",olivedrab:"107,142,35",olive:"128,128,0",orangered:"255,69,0",orange:"255,165,0",orchid:"218,112,214",palegoldenrod:"238,232,170",palegreen:"152,251,152",paleturquoise:"175,238,238",palevioletred:"219,112,147",papayawhip:"255,239,213",peachpuff:"255,218,185",peru:"205,133,63",pink:"255,192,203",plum:"221,160,221",powderblue:"176,224,230",purple:"128,0,128",red:"255,0,0",rosybrown:"188,143,143",royalblue:"65,105,225",saddlebrown:"139,69,19",salmon:"250,128,114",sandybrown:"244,164,96",seagreen:"46,139,87",seashell:"255,245,238",sienna:"160,82,45",silver:"192,192,192",skyblue:"135,206,235",slateblue:"106,90,205",slategray:"112,128,144",snow:"255,250,250",springgreen:"0,255,127",steelblue:"70,130,180",tan:"210,180,140",teal:"0,128,128",thistle:"216,191,216",tomato:"255,99,71",turquoise:"64,224,208",violet:"238,130,238",wheat:"245,222,179",whitesmoke:"245,245,245",white:"255,255,255",yellowgreen:"154,205,50",yellow:"255,255,0"}},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var i=0;i<CSS.Lists.colors.length;i++){var rgbComponents=CSS.Lists.colors[i]==="color"?"0 0 0 1":"255 255 255 1";CSS.Hooks.templates[CSS.Lists.colors[i]]=["Red Green Blue Alpha",rgbComponents]}var rootProperty,hookTemplate,hookNames;if(IE){for(rootProperty in CSS.Hooks.templates){if(!CSS.Hooks.templates.hasOwnProperty(rootProperty)){continue}hookTemplate=CSS.Hooks.templates[rootProperty];hookNames=hookTemplate[0].split(" ");var defaultValues=hookTemplate[1].match(CSS.RegEx.valueSplit);if(hookNames[0]==="Color"){hookNames.push(hookNames.shift());defaultValues.push(defaultValues.shift());CSS.Hooks.templates[rootProperty]=[hookNames.join(" "),defaultValues.join(" ")]}}}for(rootProperty in CSS.Hooks.templates){if(!CSS.Hooks.templates.hasOwnProperty(rootProperty)){continue}hookTemplate=CSS.Hooks.templates[rootProperty];hookNames=hookTemplate[0].split(" ");for(var j in hookNames){if(!hookNames.hasOwnProperty(j)){continue}var fullHookName=rootProperty+hookNames[j],hookPosition=j;CSS.Hooks.registered[fullHookName]=[rootProperty,hookPosition]}}},getRoot:function(property){var hookData=CSS.Hooks.registered[property];if(hookData){return hookData[0]}else{return property}},getUnit:function(str,start){var unit=(str.substr(start||0,5).match(/^[a-z%]+/)||[])[0]||"";if(unit&&_inArray(CSS.Lists.units,unit)){return unit}return""},fixColors:function(str){return str.replace(/(rgba?\(\s*)?(\b[a-z]+\b)/g,function($0,$1,$2){if(CSS.Lists.colorNames.hasOwnProperty($2)){return($1?$1:"rgba(")+CSS.Lists.colorNames[$2]+($1?"":",1)")}return $1+$2})},cleanRootPropertyValue:function(rootProperty,rootPropertyValue){if(CSS.RegEx.valueUnwrap.test(rootPropertyValue)){rootPropertyValue=rootPropertyValue.match(CSS.RegEx.valueUnwrap)[1]}if(CSS.Values.isCSSNullValue(rootPropertyValue)){rootPropertyValue=CSS.Hooks.templates[rootProperty][1]}return rootPropertyValue},extractValue:function(fullHookName,rootPropertyValue){var hookData=CSS.Hooks.registered[fullHookName];if(hookData){var hookRoot=hookData[0],hookPosition=hookData[1];rootPropertyValue=CSS.Hooks.cleanRootPropertyValue(hookRoot,rootPropertyValue);return rootPropertyValue.toString().match(CSS.RegEx.valueSplit)[hookPosition]}else{return rootPropertyValue}},injectValue:function(fullHookName,hookValue,rootPropertyValue){var hookData=CSS.Hooks.registered[fullHookName];if(hookData){var hookRoot=hookData[0],hookPosition=hookData[1],rootPropertyValueParts,rootPropertyValueUpdated;rootPropertyValue=CSS.Hooks.cleanRootPropertyValue(hookRoot,rootPropertyValue);rootPropertyValueParts=rootPropertyValue.toString().match(CSS.RegEx.valueSplit);rootPropertyValueParts[hookPosition]=hookValue;rootPropertyValueUpdated=rootPropertyValueParts.join(" ");return rootPropertyValueUpdated}else{return rootPropertyValue}}},Normalizations:{registered:{clip:function(type,element,propertyValue){switch(type){case"name":return"clip";case"extract":var extracted;if(CSS.RegEx.wrappedValueAlreadyExtracted.test(propertyValue)){extracted=propertyValue}else{extracted=propertyValue.toString().match(CSS.RegEx.valueUnwrap);extracted=extracted?extracted[1].replace(/,(\s+)?/g," "):propertyValue}return extracted;case"inject":return"rect("+propertyValue+")"}},blur:function(type,element,propertyValue){switch(type){case"name":return Velocity.State.isFirefox?"filter":"-webkit-filter";case"extract":var extracted=parseFloat(propertyValue);if(!(extracted||extracted===0)){var blurComponent=propertyValue.toString().match(/blur\(([0-9]+[A-z]+)\)/i);if(blurComponent){extracted=blurComponent[1]}else{extracted=0}}return extracted;case"inject":if(!parseFloat(propertyValue)){return"none"}else{return"blur("+propertyValue+")"}}},opacity:function(type,element,propertyValue){if(IE<=8){switch(type){case"name":return"filter";case"extract":var extracted=propertyValue.toString().match(/alpha\(opacity=(.*)\)/i);if(extracted){propertyValue=extracted[1]/100}else{propertyValue=1}return propertyValue;case"inject":element.style.zoom=1;if(parseFloat(propertyValue)>=1){return""}else{return"alpha(opacity="+parseInt(parseFloat(propertyValue)*100,10)+")"}}}else{switch(type){case"name":return"opacity";case"extract":return propertyValue;case"inject":return propertyValue}}}},register:function(){if((!IE||IE>9)&&!Velocity.State.isGingerbread){CSS.Lists.transformsBase=CSS.Lists.transformsBase.concat(CSS.Lists.transforms3D)}for(var i=0;i<CSS.Lists.transformsBase.length;i++){(function(){var transformName=CSS.Lists.transformsBase[i];CSS.Normalizations.registered[transformName]=function(type,element,propertyValue){switch(type){case"name":return"transform";case"extract":if(Data(element)===undefined||Data(element).transformCache[transformName]===undefined){return/^scale/i.test(transformName)?1:0}return Data(element).transformCache[transformName].replace(/[()]/g,"");case"inject":var invalid=false;switch(transformName.substr(0,transformName.length-1)){case"translate":invalid=!/(%|px|em|rem|vw|vh|\d)$/i.test(propertyValue);break;case"scal":case"scale":if(Velocity.State.isAndroid&&Data(element).transformCache[transformName]===undefined&&propertyValue<1){propertyValue=1}invalid=!/(\d)$/i.test(propertyValue);break;case"skew":invalid=!/(deg|\d)$/i.test(propertyValue);break;case"rotate":invalid=!/(deg|\d)$/i.test(propertyValue);break}if(!invalid){Data(element).transformCache[transformName]="("+propertyValue+")"}return Data(element).transformCache[transformName]}}})()}for(var j=0;j<CSS.Lists.colors.length;j++){(function(){var colorName=CSS.Lists.colors[j];CSS.Normalizations.registered[colorName]=function(type,element,propertyValue){switch(type){case"name":return colorName;case"extract":var extracted;if(CSS.RegEx.wrappedValueAlreadyExtracted.test(propertyValue)){extracted=propertyValue}else{var converted,colorNames={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};if(/^[A-z]+$/i.test(propertyValue)){if(colorNames[propertyValue]!==undefined){converted=colorNames[propertyValue]}else{converted=colorNames.black}}else if(CSS.RegEx.isHex.test(propertyValue)){converted="rgb("+CSS.Values.hexToRgb(propertyValue).join(" ")+")"}else if(!/^rgba?\(/i.test(propertyValue)){converted=colorNames.black}extracted=(converted||propertyValue).toString().match(CSS.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}if((!IE||IE>8)&&extracted.split(" ").length===3){extracted+=" 1"}return extracted;case"inject":if(/^rgb/.test(propertyValue)){return propertyValue}if(IE<=8){if(propertyValue.split(" ").length===4){propertyValue=propertyValue.split(/\s+/).slice(0,3).join(" ")}}else if(propertyValue.split(" ").length===3){propertyValue+=" 1"}return(IE<=8?"rgb":"rgba")+"("+propertyValue.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}})()}function augmentDimension(name,element,wantInner){var isBorderBox=CSS.getPropertyValue(element,"boxSizing").toString().toLowerCase()==="border-box";if(isBorderBox===(wantInner||false)){var i,value,augment=0,sides=name==="width"?["Left","Right"]:["Top","Bottom"],fields=["padding"+sides[0],"padding"+sides[1],"border"+sides[0]+"Width","border"+sides[1]+"Width"];for(i=0;i<fields.length;i++){value=parseFloat(CSS.getPropertyValue(element,fields[i]));if(!isNaN(value)){augment+=value}}return wantInner?-augment:augment}return 0}function getDimension(name,wantInner){return function(type,element,propertyValue){switch(type){case"name":return name;case"extract":return parseFloat(propertyValue)+augmentDimension(name,element,wantInner);case"inject":return parseFloat(propertyValue)-augmentDimension(name,element,wantInner)+"px"}}}CSS.Normalizations.registered.innerWidth=getDimension("width",true);CSS.Normalizations.registered.innerHeight=getDimension("height",true);CSS.Normalizations.registered.outerWidth=getDimension("width");CSS.Normalizations.registered.outerHeight=getDimension("height")}},Names:{camelCase:function(property){return property.replace(/-(\w)/g,function(match,subMatch){return subMatch.toUpperCase()})},SVGAttribute:function(property){var SVGAttributes="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";if(IE||Velocity.State.isAndroid&&!Velocity.State.isChrome){SVGAttributes+="|transform"}return new RegExp("^("+SVGAttributes+")$","i").test(property)},prefixCheck:function(property){if(Velocity.State.prefixMatches[property]){return[Velocity.State.prefixMatches[property],true]}else{var vendors=["","Webkit","Moz","ms","O"];for(var i=0,vendorsLength=vendors.length;i<vendorsLength;i++){var propertyPrefixed;if(i===0){propertyPrefixed=property}else{propertyPrefixed=vendors[i]+property.replace(/^\w/,function(match){return match.toUpperCase()})}if(Type.isString(Velocity.State.prefixElement.style[propertyPrefixed])){Velocity.State.prefixMatches[property]=propertyPrefixed;return[propertyPrefixed,true]}}return[property,false]}}},Values:{hexToRgb:function(hex){var shortformRegex=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,longformRegex=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgbParts;hex=hex.replace(shortformRegex,function(m,r,g,b){return r+r+g+g+b+b});rgbParts=longformRegex.exec(hex);return rgbParts?[parseInt(rgbParts[1],16),parseInt(rgbParts[2],16),parseInt(rgbParts[3],16)]:[0,0,0]},isCSSNullValue:function(value){return!value||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(value)},getUnitType:function(property){if(/^(rotate|skew)/i.test(property)){return"deg"}else if(/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(property)){return""}else{return"px"}},getDisplayType:function(element){var tagName=element&&element.tagName.toString().toLowerCase();if(/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(tagName)){return"inline"}else if(/^(li)$/i.test(tagName)){return"list-item"}else if(/^(tr)$/i.test(tagName)){return"table-row"}else if(/^(table)$/i.test(tagName)){return"table"}else if(/^(tbody)$/i.test(tagName)){return"table-row-group"}else{return"block"}},addClass:function(element,className){if(element){if(element.classList){element.classList.add(className)}else if(Type.isString(element.className)){element.className+=(element.className.length?" ":"")+className}else{var currentClass=element.getAttribute(IE<=7?"className":"class")||"";element.setAttribute("class",currentClass+(currentClass?" ":"")+className)}}},removeClass:function(element,className){if(element){if(element.classList){element.classList.remove(className)}else if(Type.isString(element.className)){element.className=element.className.toString().replace(new RegExp("(^|\\s)"+className.split(" ").join("|")+"(\\s|$)","gi")," ")}else{var currentClass=element.getAttribute(IE<=7?"className":"class")||"";element.setAttribute("class",currentClass.replace(new RegExp("(^|s)"+className.split(" ").join("|")+"(s|$)","gi")," "))}}}},getPropertyValue:function(element,property,rootPropertyValue,forceStyleLookup){function computePropertyValue(element,property){var computedValue=0;if(IE<=8){computedValue=$.css(element,property)}else{var toggleDisplay=false;if(/^(width|height)$/.test(property)&&CSS.getPropertyValue(element,"display")===0){toggleDisplay=true;CSS.setPropertyValue(element,"display",CSS.Values.getDisplayType(element))}var revertDisplay=function(){if(toggleDisplay){CSS.setPropertyValue(element,"display","none")}};if(!forceStyleLookup){if(property==="height"&&CSS.getPropertyValue(element,"boxSizing").toString().toLowerCase()!=="border-box"){var contentBoxHeight=element.offsetHeight-(parseFloat(CSS.getPropertyValue(element,"borderTopWidth"))||0)-(parseFloat(CSS.getPropertyValue(element,"borderBottomWidth"))||0)-(parseFloat(CSS.getPropertyValue(element,"paddingTop"))||0)-(parseFloat(CSS.getPropertyValue(element,"paddingBottom"))||0);revertDisplay();return contentBoxHeight}else if(property==="width"&&CSS.getPropertyValue(element,"boxSizing").toString().toLowerCase()!=="border-box"){var contentBoxWidth=element.offsetWidth-(parseFloat(CSS.getPropertyValue(element,"borderLeftWidth"))||0)-(parseFloat(CSS.getPropertyValue(element,"borderRightWidth"))||0)-(parseFloat(CSS.getPropertyValue(element,"paddingLeft"))||0)-(parseFloat(CSS.getPropertyValue(element,"paddingRight"))||0);revertDisplay();return contentBoxWidth}}var computedStyle;if(Data(element)===undefined){computedStyle=window.getComputedStyle(element,null)}else if(!Data(element).computedStyle){computedStyle=Data(element).computedStyle=window.getComputedStyle(element,null)}else{computedStyle=Data(element).computedStyle}if(property==="borderColor"){property="borderTopColor"}if(IE===9&&property==="filter"){computedValue=computedStyle.getPropertyValue(property)}else{computedValue=computedStyle[property]}if(computedValue===""||computedValue===null){computedValue=element.style[property]}revertDisplay()}if(computedValue==="auto"&&/^(top|right|bottom|left)$/i.test(property)){var position=computePropertyValue(element,"position");if(position==="fixed"||position==="absolute"&&/top|left/i.test(property)){computedValue=$(element).position()[property]+"px"}}return computedValue}var propertyValue;if(CSS.Hooks.registered[property]){var hook=property,hookRoot=CSS.Hooks.getRoot(hook);if(rootPropertyValue===undefined){rootPropertyValue=CSS.getPropertyValue(element,CSS.Names.prefixCheck(hookRoot)[0])}if(CSS.Normalizations.registered[hookRoot]){rootPropertyValue=CSS.Normalizations.registered[hookRoot]("extract",element,rootPropertyValue)}propertyValue=CSS.Hooks.extractValue(hook,rootPropertyValue)}else if(CSS.Normalizations.registered[property]){var normalizedPropertyName,normalizedPropertyValue;normalizedPropertyName=CSS.Normalizations.registered[property]("name",element);if(normalizedPropertyName!=="transform"){normalizedPropertyValue=computePropertyValue(element,CSS.Names.prefixCheck(normalizedPropertyName)[0]);if(CSS.Values.isCSSNullValue(normalizedPropertyValue)&&CSS.Hooks.templates[property]){normalizedPropertyValue=CSS.Hooks.templates[property][1]}}propertyValue=CSS.Normalizations.registered[property]("extract",element,normalizedPropertyValue)}if(!/^[\d-]/.test(propertyValue)){var data=Data(element);if(data&&data.isSVG&&CSS.Names.SVGAttribute(property)){if(/^(height|width)$/i.test(property)){try{propertyValue=element.getBBox()[property]}catch(error){propertyValue=0}}else{propertyValue=element.getAttribute(property)}}else{propertyValue=computePropertyValue(element,CSS.Names.prefixCheck(property)[0])}}if(CSS.Values.isCSSNullValue(propertyValue)){propertyValue=0}if(Velocity.debug>=2){console.log("Get "+property+": "+propertyValue)}return propertyValue},setPropertyValue:function(element,property,propertyValue,rootPropertyValue,scrollData){var propertyName=property;if(property==="scroll"){if(scrollData.container){scrollData.container["scroll"+scrollData.direction]=propertyValue}else{if(scrollData.direction==="Left"){window.scrollTo(propertyValue,scrollData.alternateValue)}else{window.scrollTo(scrollData.alternateValue,propertyValue)}}}else{if(CSS.Normalizations.registered[property]&&CSS.Normalizations.registered[property]("name",element)==="transform"){CSS.Normalizations.registered[property]("inject",element,propertyValue);propertyName="transform";propertyValue=Data(element).transformCache[property]}else{if(CSS.Hooks.registered[property]){var hookName=property,hookRoot=CSS.Hooks.getRoot(property);rootPropertyValue=rootPropertyValue||CSS.getPropertyValue(element,hookRoot);propertyValue=CSS.Hooks.injectValue(hookName,propertyValue,rootPropertyValue);property=hookRoot}if(CSS.Normalizations.registered[property]){propertyValue=CSS.Normalizations.registered[property]("inject",element,propertyValue);property=CSS.Normalizations.registered[property]("name",element)}propertyName=CSS.Names.prefixCheck(property)[0];if(IE<=8){try{element.style[propertyName]=propertyValue}catch(error){if(Velocity.debug){console.log("Browser does not support ["+propertyValue+"] for ["+propertyName+"]")}}}else{var data=Data(element);if(data&&data.isSVG&&CSS.Names.SVGAttribute(property)){element.setAttribute(property,propertyValue)}else{element.style[propertyName]=propertyValue}}if(Velocity.debug>=2){console.log("Set "+property+" ("+propertyName+"): "+propertyValue)}}}return[propertyName,propertyValue]},flushTransformCache:function(element){var transformString="",data=Data(element);if((IE||Velocity.State.isAndroid&&!Velocity.State.isChrome)&&data&&data.isSVG){var getTransformFloat=function(transformProperty){return parseFloat(CSS.getPropertyValue(element,transformProperty))};var SVGTransforms={translate:[getTransformFloat("translateX"),getTransformFloat("translateY")],skewX:[getTransformFloat("skewX")],skewY:[getTransformFloat("skewY")],scale:getTransformFloat("scale")!==1?[getTransformFloat("scale"),getTransformFloat("scale")]:[getTransformFloat("scaleX"),getTransformFloat("scaleY")],rotate:[getTransformFloat("rotateZ"),0,0]};$.each(Data(element).transformCache,function(transformName){if(/^translate/i.test(transformName)){transformName="translate"}else if(/^scale/i.test(transformName)){transformName="scale"}else if(/^rotate/i.test(transformName)){transformName="rotate"}if(SVGTransforms[transformName]){transformString+=transformName+"("+SVGTransforms[transformName].join(" ")+")"+" ";delete SVGTransforms[transformName]}})}else{var transformValue,perspective;$.each(Data(element).transformCache,function(transformName){transformValue=Data(element).transformCache[transformName];if(transformName==="transformPerspective"){perspective=transformValue;return true}if(IE===9&&transformName==="rotateZ"){transformName="rotate"}transformString+=transformName+transformValue+" "});if(perspective){transformString="perspective"+perspective+" "+transformString}}CSS.setPropertyValue(element,"transform",transformString)}};CSS.Hooks.register();CSS.Normalizations.register();Velocity.hook=function(elements,arg2,arg3){var value;elements=sanitizeElements(elements);$.each(elements,function(i,element){if(Data(element)===undefined){Velocity.init(element)}if(arg3===undefined){if(value===undefined){value=CSS.getPropertyValue(element,arg2)}}else{var adjustedSet=CSS.setPropertyValue(element,arg2,arg3);if(adjustedSet[0]==="transform"){Velocity.CSS.flushTransformCache(element)}value=adjustedSet}});return value};var animate=function(){var opts;function getChain(){if(isUtility){return promiseData.promise||null}else{return elementsWrapped}}var syntacticSugar=arguments[0]&&(arguments[0].p||($.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||Type.isString(arguments[0].properties))),isUtility,elementsWrapped,argumentIndex;var elements,propertiesMap,options;if(Type.isWrapped(this)){isUtility=false;argumentIndex=0;elements=this;elementsWrapped=this}else{isUtility=true;argumentIndex=1;elements=syntacticSugar?arguments[0].elements||arguments[0].e:arguments[0]}var promiseData={promise:null,resolver:null,rejecter:null};if(isUtility&&Velocity.Promise){promiseData.promise=new Velocity.Promise(function(resolve,reject){promiseData.resolver=resolve;promiseData.rejecter=reject})}if(syntacticSugar){propertiesMap=arguments[0].properties||arguments[0].p;options=arguments[0].options||arguments[0].o}else{propertiesMap=arguments[argumentIndex];options=arguments[argumentIndex+1]}elements=sanitizeElements(elements);if(!elements){if(promiseData.promise){if(!propertiesMap||!options||options.promiseRejectEmpty!==false){promiseData.rejecter()}else{promiseData.resolver()}}return}var elementsLength=elements.length,elementsIndex=0;if(!/^(stop|finish|finishAll|pause|resume)$/i.test(propertiesMap)&&!$.isPlainObject(options)){var startingArgumentPosition=argumentIndex+1;options={};for(var i=startingArgumentPosition;i<arguments.length;i++){if(!Type.isArray(arguments[i])&&(/^(fast|normal|slow)$/i.test(arguments[i])||/^\d/.test(arguments[i]))){options.duration=arguments[i]}else if(Type.isString(arguments[i])||Type.isArray(arguments[i])){options.easing=arguments[i]}else if(Type.isFunction(arguments[i])){options.complete=arguments[i]}}}var action;switch(propertiesMap){case"scroll":action="scroll";break;case"reverse":action="reverse";break;case"pause":var currentTime=(new Date).getTime();$.each(elements,function(i,element){pauseDelayOnElement(element,currentTime)});$.each(Velocity.State.calls,function(i,activeCall){var found=false;if(activeCall){$.each(activeCall[1],function(k,activeElement){var queueName=options===undefined?"":options;if(queueName!==true&&activeCall[2].queue!==queueName&&!(options===undefined&&activeCall[2].queue===false)){return true}$.each(elements,function(l,element){if(element===activeElement){activeCall[5]={resume:false};found=true;return false}});if(found){return false}})}});return getChain();case"resume":$.each(elements,function(i,element){resumeDelayOnElement(element,currentTime)});$.each(Velocity.State.calls,function(i,activeCall){var found=false;if(activeCall){$.each(activeCall[1],function(k,activeElement){var queueName=options===undefined?"":options;if(queueName!==true&&activeCall[2].queue!==queueName&&!(options===undefined&&activeCall[2].queue===false)){return true}if(!activeCall[5]){return true}$.each(elements,function(l,element){if(element===activeElement){activeCall[5].resume=true;found=true;return false}});if(found){return false}})}});return getChain();case"finish":case"finishAll":case"stop":$.each(elements,function(i,element){if(Data(element)&&Data(element).delayTimer){clearTimeout(Data(element).delayTimer.setTimeout);if(Data(element).delayTimer.next){Data(element).delayTimer.next()}delete Data(element).delayTimer}if(propertiesMap==="finishAll"&&(options===true||Type.isString(options))){$.each($.queue(element,Type.isString(options)?options:""),function(_,item){if(Type.isFunction(item)){item()}});$.queue(element,Type.isString(options)?options:"",[])}});var callsToStop=[];$.each(Velocity.State.calls,function(i,activeCall){if(activeCall){$.each(activeCall[1],function(k,activeElement){
var queueName=options===undefined?"":options;if(queueName!==true&&activeCall[2].queue!==queueName&&!(options===undefined&&activeCall[2].queue===false)){return true}$.each(elements,function(l,element){if(element===activeElement){if(options===true||Type.isString(options)){$.each($.queue(element,Type.isString(options)?options:""),function(_,item){if(Type.isFunction(item)){item(null,true)}});$.queue(element,Type.isString(options)?options:"",[])}if(propertiesMap==="stop"){var data=Data(element);if(data&&data.tweensContainer&&queueName!==false){$.each(data.tweensContainer,function(m,activeTween){activeTween.endValue=activeTween.currentValue})}callsToStop.push(i)}else if(propertiesMap==="finish"||propertiesMap==="finishAll"){activeCall[2].duration=1}}})})}});if(propertiesMap==="stop"){$.each(callsToStop,function(i,j){completeCall(j,true)});if(promiseData.promise){promiseData.resolver(elements)}}return getChain();default:if($.isPlainObject(propertiesMap)&&!Type.isEmptyObject(propertiesMap)){action="start"}else if(Type.isString(propertiesMap)&&Velocity.Redirects[propertiesMap]){opts=$.extend({},options);var durationOriginal=opts.duration,delayOriginal=opts.delay||0;if(opts.backwards===true){elements=$.extend(true,[],elements).reverse()}$.each(elements,function(elementIndex,element){if(parseFloat(opts.stagger)){opts.delay=delayOriginal+parseFloat(opts.stagger)*elementIndex}else if(Type.isFunction(opts.stagger)){opts.delay=delayOriginal+opts.stagger.call(element,elementIndex,elementsLength)}if(opts.drag){opts.duration=parseFloat(durationOriginal)||(/^(callout|transition)/.test(propertiesMap)?1e3:DURATION_DEFAULT);opts.duration=Math.max(opts.duration*(opts.backwards?1-elementIndex/elementsLength:(elementIndex+1)/elementsLength),opts.duration*.75,200)}Velocity.Redirects[propertiesMap].call(element,element,opts||{},elementIndex,elementsLength,elements,promiseData.promise?promiseData:undefined)});return getChain()}else{var abortError="Velocity: First argument ("+propertiesMap+") was not a property map, a known action, or a registered redirect. Aborting.";if(promiseData.promise){promiseData.rejecter(new Error(abortError))}else if(window.console){console.log(abortError)}return getChain()}}var callUnitConversionData={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null};var call=[];function processElement(element,elementArrayIndex){var opts=$.extend({},Velocity.defaults,options),tweensContainer={},elementUnitConversionData;if(Data(element)===undefined){Velocity.init(element)}if(parseFloat(opts.delay)&&opts.queue!==false){$.queue(element,opts.queue,function(next){Velocity.velocityQueueEntryFlag=true;var callIndex=Velocity.State.delayedElements.count++;Velocity.State.delayedElements[callIndex]=element;var delayComplete=function(index){return function(){Velocity.State.delayedElements[index]=false;next()}}(callIndex);Data(element).delayBegin=(new Date).getTime();Data(element).delay=parseFloat(opts.delay);Data(element).delayTimer={setTimeout:setTimeout(next,parseFloat(opts.delay)),next:delayComplete}})}switch(opts.duration.toString().toLowerCase()){case"fast":opts.duration=200;break;case"normal":opts.duration=DURATION_DEFAULT;break;case"slow":opts.duration=600;break;default:opts.duration=parseFloat(opts.duration)||1}if(Velocity.mock!==false){if(Velocity.mock===true){opts.duration=opts.delay=1}else{opts.duration*=parseFloat(Velocity.mock)||1;opts.delay*=parseFloat(Velocity.mock)||1}}opts.easing=getEasing(opts.easing,opts.duration);if(opts.begin&&!Type.isFunction(opts.begin)){opts.begin=null}if(opts.progress&&!Type.isFunction(opts.progress)){opts.progress=null}if(opts.complete&&!Type.isFunction(opts.complete)){opts.complete=null}if(opts.display!==undefined&&opts.display!==null){opts.display=opts.display.toString().toLowerCase();if(opts.display==="auto"){opts.display=Velocity.CSS.Values.getDisplayType(element)}}if(opts.visibility!==undefined&&opts.visibility!==null){opts.visibility=opts.visibility.toString().toLowerCase()}opts.mobileHA=opts.mobileHA&&Velocity.State.isMobile&&!Velocity.State.isGingerbread;function buildQueue(next){var data,lastTweensContainer;if(opts.begin&&elementsIndex===0){try{opts.begin.call(elements,elements)}catch(error){setTimeout(function(){throw error},1)}}if(action==="scroll"){var scrollDirection=/^x$/i.test(opts.axis)?"Left":"Top",scrollOffset=parseFloat(opts.offset)||0,scrollPositionCurrent,scrollPositionCurrentAlternate,scrollPositionEnd;if(opts.container){if(Type.isWrapped(opts.container)||Type.isNode(opts.container)){opts.container=opts.container[0]||opts.container;scrollPositionCurrent=opts.container["scroll"+scrollDirection];scrollPositionEnd=scrollPositionCurrent+$(element).position()[scrollDirection.toLowerCase()]+scrollOffset}else{opts.container=null}}else{scrollPositionCurrent=Velocity.State.scrollAnchor[Velocity.State["scrollProperty"+scrollDirection]];scrollPositionCurrentAlternate=Velocity.State.scrollAnchor[Velocity.State["scrollProperty"+(scrollDirection==="Left"?"Top":"Left")]];scrollPositionEnd=$(element).offset()[scrollDirection.toLowerCase()]+scrollOffset}tweensContainer={scroll:{rootPropertyValue:false,startValue:scrollPositionCurrent,currentValue:scrollPositionCurrent,endValue:scrollPositionEnd,unitType:"",easing:opts.easing,scrollData:{container:opts.container,direction:scrollDirection,alternateValue:scrollPositionCurrentAlternate}},element:element};if(Velocity.debug){console.log("tweensContainer (scroll): ",tweensContainer.scroll,element)}}else if(action==="reverse"){data=Data(element);if(!data){return}if(!data.tweensContainer){$.dequeue(element,opts.queue);return}else{if(data.opts.display==="none"){data.opts.display="auto"}if(data.opts.visibility==="hidden"){data.opts.visibility="visible"}data.opts.loop=false;data.opts.begin=null;data.opts.complete=null;if(!options.easing){delete opts.easing}if(!options.duration){delete opts.duration}opts=$.extend({},data.opts,opts);lastTweensContainer=$.extend(true,{},data?data.tweensContainer:null);for(var lastTween in lastTweensContainer){if(lastTweensContainer.hasOwnProperty(lastTween)&&lastTween!=="element"){var lastStartValue=lastTweensContainer[lastTween].startValue;lastTweensContainer[lastTween].startValue=lastTweensContainer[lastTween].currentValue=lastTweensContainer[lastTween].endValue;lastTweensContainer[lastTween].endValue=lastStartValue;if(!Type.isEmptyObject(options)){lastTweensContainer[lastTween].easing=opts.easing}if(Velocity.debug){console.log("reverse tweensContainer ("+lastTween+"): "+JSON.stringify(lastTweensContainer[lastTween]),element)}}}tweensContainer=lastTweensContainer}}else if(action==="start"){data=Data(element);if(data&&data.tweensContainer&&data.isAnimating===true){lastTweensContainer=data.tweensContainer}var parsePropertyValue=function(valueData,skipResolvingEasing){var endValue,easing,startValue;if(Type.isFunction(valueData)){valueData=valueData.call(element,elementArrayIndex,elementsLength)}if(Type.isArray(valueData)){endValue=valueData[0];if(!Type.isArray(valueData[1])&&/^[\d-]/.test(valueData[1])||Type.isFunction(valueData[1])||CSS.RegEx.isHex.test(valueData[1])){startValue=valueData[1]}else if(Type.isString(valueData[1])&&!CSS.RegEx.isHex.test(valueData[1])&&Velocity.Easings[valueData[1]]||Type.isArray(valueData[1])){easing=skipResolvingEasing?valueData[1]:getEasing(valueData[1],opts.duration);startValue=valueData[2]}else{startValue=valueData[1]||valueData[2]}}else{endValue=valueData}if(!skipResolvingEasing){easing=easing||opts.easing}if(Type.isFunction(endValue)){endValue=endValue.call(element,elementArrayIndex,elementsLength)}if(Type.isFunction(startValue)){startValue=startValue.call(element,elementArrayIndex,elementsLength)}return[endValue||0,easing,startValue]};var fixPropertyValue=function(property,valueData){var rootProperty=CSS.Hooks.getRoot(property),rootPropertyValue=false,endValue=valueData[0],easing=valueData[1],startValue=valueData[2],pattern;if((!data||!data.isSVG)&&rootProperty!=="tween"&&CSS.Names.prefixCheck(rootProperty)[1]===false&&CSS.Normalizations.registered[rootProperty]===undefined){if(Velocity.debug){console.log("Skipping ["+rootProperty+"] due to a lack of browser support.")}return}if((opts.display!==undefined&&opts.display!==null&&opts.display!=="none"||opts.visibility!==undefined&&opts.visibility!=="hidden")&&/opacity|filter/.test(property)&&!startValue&&endValue!==0){startValue=0}if(opts._cacheValues&&lastTweensContainer&&lastTweensContainer[property]){if(startValue===undefined){startValue=lastTweensContainer[property].endValue+lastTweensContainer[property].unitType}rootPropertyValue=data.rootPropertyValueCache[rootProperty]}else{if(CSS.Hooks.registered[property]){if(startValue===undefined){rootPropertyValue=CSS.getPropertyValue(element,rootProperty);startValue=CSS.getPropertyValue(element,property,rootPropertyValue)}else{rootPropertyValue=CSS.Hooks.templates[rootProperty][1]}}else if(startValue===undefined){startValue=CSS.getPropertyValue(element,property)}}var separatedValue,endValueUnitType,startValueUnitType,operator=false;var separateValue=function(property,value){var unitType,numericValue;numericValue=(value||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(match){unitType=match;return""});if(!unitType){unitType=CSS.Values.getUnitType(property)}return[numericValue,unitType]};if(startValue!==endValue&&Type.isString(startValue)&&Type.isString(endValue)){pattern="";var iStart=0,iEnd=0,aStart=[],aEnd=[],inCalc=0,inRGB=0,inRGBA=0;startValue=CSS.Hooks.fixColors(startValue);endValue=CSS.Hooks.fixColors(endValue);while(iStart<startValue.length&&iEnd<endValue.length){var cStart=startValue[iStart],cEnd=endValue[iEnd];if(/[\d\.-]/.test(cStart)&&/[\d\.-]/.test(cEnd)){var tStart=cStart,tEnd=cEnd,dotStart=".",dotEnd=".";while(++iStart<startValue.length){cStart=startValue[iStart];if(cStart===dotStart){dotStart=".."}else if(!/\d/.test(cStart)){break}tStart+=cStart}while(++iEnd<endValue.length){cEnd=endValue[iEnd];if(cEnd===dotEnd){dotEnd=".."}else if(!/\d/.test(cEnd)){break}tEnd+=cEnd}var uStart=CSS.Hooks.getUnit(startValue,iStart),uEnd=CSS.Hooks.getUnit(endValue,iEnd);iStart+=uStart.length;iEnd+=uEnd.length;if(uStart===uEnd){if(tStart===tEnd){pattern+=tStart+uStart}else{pattern+="{"+aStart.length+(inRGB?"!":"")+"}"+uStart;aStart.push(parseFloat(tStart));aEnd.push(parseFloat(tEnd))}}else{var nStart=parseFloat(tStart),nEnd=parseFloat(tEnd);pattern+=(inCalc<5?"calc":"")+"("+(nStart?"{"+aStart.length+(inRGB?"!":"")+"}":"0")+uStart+" + "+(nEnd?"{"+(aStart.length+(nStart?1:0))+(inRGB?"!":"")+"}":"0")+uEnd+")";if(nStart){aStart.push(nStart);aEnd.push(0)}if(nEnd){aStart.push(0);aEnd.push(nEnd)}}}else if(cStart===cEnd){pattern+=cStart;iStart++;iEnd++;if(inCalc===0&&cStart==="c"||inCalc===1&&cStart==="a"||inCalc===2&&cStart==="l"||inCalc===3&&cStart==="c"||inCalc>=4&&cStart==="("){inCalc++}else if(inCalc&&inCalc<5||inCalc>=4&&cStart===")"&&--inCalc<5){inCalc=0}if(inRGB===0&&cStart==="r"||inRGB===1&&cStart==="g"||inRGB===2&&cStart==="b"||inRGB===3&&cStart==="a"||inRGB>=3&&cStart==="("){if(inRGB===3&&cStart==="a"){inRGBA=1}inRGB++}else if(inRGBA&&cStart===","){if(++inRGBA>3){inRGB=inRGBA=0}}else if(inRGBA&&inRGB<(inRGBA?5:4)||inRGB>=(inRGBA?4:3)&&cStart===")"&&--inRGB<(inRGBA?5:4)){inRGB=inRGBA=0}}else{inCalc=0;break}}if(iStart!==startValue.length||iEnd!==endValue.length){if(Velocity.debug){console.error('Trying to pattern match mis-matched strings ["'+endValue+'", "'+startValue+'"]')}pattern=undefined}if(pattern){if(aStart.length){if(Velocity.debug){console.log('Pattern found "'+pattern+'" -> ',aStart,aEnd,"["+startValue+","+endValue+"]")}startValue=aStart;endValue=aEnd;endValueUnitType=startValueUnitType=""}else{pattern=undefined}}}if(!pattern){separatedValue=separateValue(property,startValue);startValue=separatedValue[0];startValueUnitType=separatedValue[1];separatedValue=separateValue(property,endValue);endValue=separatedValue[0].replace(/^([+-\/*])=/,function(match,subMatch){operator=subMatch;return""});endValueUnitType=separatedValue[1];startValue=parseFloat(startValue)||0;endValue=parseFloat(endValue)||0;if(endValueUnitType==="%"){if(/^(fontSize|lineHeight)$/.test(property)){endValue=endValue/100;endValueUnitType="em"}else if(/^scale/.test(property)){endValue=endValue/100;endValueUnitType=""}else if(/(Red|Green|Blue)$/i.test(property)){endValue=endValue/100*255;endValueUnitType=""}}}var calculateUnitRatios=function(){var sameRatioIndicators={myParent:element.parentNode||document.body,position:CSS.getPropertyValue(element,"position"),fontSize:CSS.getPropertyValue(element,"fontSize")},samePercentRatio=sameRatioIndicators.position===callUnitConversionData.lastPosition&&sameRatioIndicators.myParent===callUnitConversionData.lastParent,sameEmRatio=sameRatioIndicators.fontSize===callUnitConversionData.lastFontSize;callUnitConversionData.lastParent=sameRatioIndicators.myParent;callUnitConversionData.lastPosition=sameRatioIndicators.position;callUnitConversionData.lastFontSize=sameRatioIndicators.fontSize;var measurement=100,unitRatios={};if(!sameEmRatio||!samePercentRatio){var dummy=data&&data.isSVG?document.createElementNS("http://www.w3.org/2000/svg","rect"):document.createElement("div");Velocity.init(dummy);sameRatioIndicators.myParent.appendChild(dummy);$.each(["overflow","overflowX","overflowY"],function(i,property){Velocity.CSS.setPropertyValue(dummy,property,"hidden")});Velocity.CSS.setPropertyValue(dummy,"position",sameRatioIndicators.position);Velocity.CSS.setPropertyValue(dummy,"fontSize",sameRatioIndicators.fontSize);Velocity.CSS.setPropertyValue(dummy,"boxSizing","content-box");$.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(i,property){Velocity.CSS.setPropertyValue(dummy,property,measurement+"%")});Velocity.CSS.setPropertyValue(dummy,"paddingLeft",measurement+"em");unitRatios.percentToPxWidth=callUnitConversionData.lastPercentToPxWidth=(parseFloat(CSS.getPropertyValue(dummy,"width",null,true))||1)/measurement;unitRatios.percentToPxHeight=callUnitConversionData.lastPercentToPxHeight=(parseFloat(CSS.getPropertyValue(dummy,"height",null,true))||1)/measurement;unitRatios.emToPx=callUnitConversionData.lastEmToPx=(parseFloat(CSS.getPropertyValue(dummy,"paddingLeft"))||1)/measurement;sameRatioIndicators.myParent.removeChild(dummy)}else{unitRatios.emToPx=callUnitConversionData.lastEmToPx;unitRatios.percentToPxWidth=callUnitConversionData.lastPercentToPxWidth;unitRatios.percentToPxHeight=callUnitConversionData.lastPercentToPxHeight}if(callUnitConversionData.remToPx===null){callUnitConversionData.remToPx=parseFloat(CSS.getPropertyValue(document.body,"fontSize"))||16}if(callUnitConversionData.vwToPx===null){callUnitConversionData.vwToPx=parseFloat(window.innerWidth)/100;callUnitConversionData.vhToPx=parseFloat(window.innerHeight)/100}unitRatios.remToPx=callUnitConversionData.remToPx;unitRatios.vwToPx=callUnitConversionData.vwToPx;unitRatios.vhToPx=callUnitConversionData.vhToPx;if(Velocity.debug>=1){console.log("Unit ratios: "+JSON.stringify(unitRatios),element)}return unitRatios};if(/[\/*]/.test(operator)){endValueUnitType=startValueUnitType}else if(startValueUnitType!==endValueUnitType&&startValue!==0){if(endValue===0){endValueUnitType=startValueUnitType}else{elementUnitConversionData=elementUnitConversionData||calculateUnitRatios();var axis=/margin|padding|left|right|width|text|word|letter/i.test(property)||/X$/.test(property)||property==="x"?"x":"y";switch(startValueUnitType){case"%":startValue*=axis==="x"?elementUnitConversionData.percentToPxWidth:elementUnitConversionData.percentToPxHeight;break;case"px":break;default:startValue*=elementUnitConversionData[startValueUnitType+"ToPx"]}switch(endValueUnitType){case"%":startValue*=1/(axis==="x"?elementUnitConversionData.percentToPxWidth:elementUnitConversionData.percentToPxHeight);break;case"px":break;default:startValue*=1/elementUnitConversionData[endValueUnitType+"ToPx"]}}}switch(operator){case"+":endValue=startValue+endValue;break;case"-":endValue=startValue-endValue;break;case"*":endValue=startValue*endValue;break;case"/":endValue=startValue/endValue;break}tweensContainer[property]={rootPropertyValue:rootPropertyValue,startValue:startValue,currentValue:startValue,endValue:endValue,unitType:endValueUnitType,easing:easing};if(pattern){tweensContainer[property].pattern=pattern}if(Velocity.debug){console.log("tweensContainer ("+property+"): "+JSON.stringify(tweensContainer[property]),element)}};for(var property in propertiesMap){if(!propertiesMap.hasOwnProperty(property)){continue}var propertyName=CSS.Names.camelCase(property),valueData=parsePropertyValue(propertiesMap[property]);if(_inArray(CSS.Lists.colors,propertyName)){var endValue=valueData[0],easing=valueData[1],startValue=valueData[2];if(CSS.RegEx.isHex.test(endValue)){var colorComponents=["Red","Green","Blue"],endValueRGB=CSS.Values.hexToRgb(endValue),startValueRGB=startValue?CSS.Values.hexToRgb(startValue):undefined;for(var i=0;i<colorComponents.length;i++){var dataArray=[endValueRGB[i]];if(easing){dataArray.push(easing)}if(startValueRGB!==undefined){dataArray.push(startValueRGB[i])}fixPropertyValue(propertyName+colorComponents[i],dataArray)}continue}}fixPropertyValue(propertyName,valueData)}tweensContainer.element=element}if(tweensContainer.element){CSS.Values.addClass(element,"velocity-animating");call.push(tweensContainer);data=Data(element);if(data){if(opts.queue===""){data.tweensContainer=tweensContainer;data.opts=opts}data.isAnimating=true}if(elementsIndex===elementsLength-1){Velocity.State.calls.push([call,elements,opts,null,promiseData.resolver,null,0]);if(Velocity.State.isTicking===false){Velocity.State.isTicking=true;tick()}}else{elementsIndex++}}}if(opts.queue===false){if(opts.delay){var callIndex=Velocity.State.delayedElements.count++;Velocity.State.delayedElements[callIndex]=element;var delayComplete=function(index){return function(){Velocity.State.delayedElements[index]=false;buildQueue()}}(callIndex);Data(element).delayBegin=(new Date).getTime();Data(element).delay=parseFloat(opts.delay);Data(element).delayTimer={setTimeout:setTimeout(buildQueue,parseFloat(opts.delay)),next:delayComplete}}else{buildQueue()}}else{$.queue(element,opts.queue,function(next,clearQueue){if(clearQueue===true){if(promiseData.promise){promiseData.resolver(elements)}return true}Velocity.velocityQueueEntryFlag=true;buildQueue(next)})}if((opts.queue===""||opts.queue==="fx")&&$.queue(element)[0]!=="inprogress"){$.dequeue(element)}}$.each(elements,function(i,element){if(Type.isNode(element)){processElement(element,i)}});opts=$.extend({},Velocity.defaults,options);opts.loop=parseInt(opts.loop,10);var reverseCallsCount=opts.loop*2-1;if(opts.loop){for(var x=0;x<reverseCallsCount;x++){var reverseOptions={delay:opts.delay,progress:opts.progress};if(x===reverseCallsCount-1){reverseOptions.display=opts.display;reverseOptions.visibility=opts.visibility;reverseOptions.complete=opts.complete}animate(elements,"reverse",reverseOptions)}}return getChain()};Velocity=$.extend(animate,Velocity);Velocity.animate=animate;var ticker=window.requestAnimationFrame||rAFShim;if(!Velocity.State.isMobile&&document.hidden!==undefined){var updateTicker=function(){if(document.hidden){ticker=function(callback){return setTimeout(function(){callback(true)},16)};tick()}else{ticker=window.requestAnimationFrame||rAFShim}};updateTicker();document.addEventListener("visibilitychange",updateTicker)}function tick(timestamp){if(timestamp){var timeCurrent=Velocity.timestamp&&timestamp!==true?timestamp:performance.now();var callsLength=Velocity.State.calls.length;if(callsLength>1e4){Velocity.State.calls=compactSparseArray(Velocity.State.calls);callsLength=Velocity.State.calls.length}for(var i=0;i<callsLength;i++){if(!Velocity.State.calls[i]){continue}var callContainer=Velocity.State.calls[i],call=callContainer[0],opts=callContainer[2],timeStart=callContainer[3],firstTick=!!timeStart,tweenDummyValue=null,pauseObject=callContainer[5],millisecondsEllapsed=callContainer[6];if(!timeStart){timeStart=Velocity.State.calls[i][3]=timeCurrent-16}if(pauseObject){if(pauseObject.resume===true){timeStart=callContainer[3]=Math.round(timeCurrent-millisecondsEllapsed-16);callContainer[5]=null}else{continue}}millisecondsEllapsed=callContainer[6]=timeCurrent-timeStart;var percentComplete=Math.min(millisecondsEllapsed/opts.duration,1);for(var j=0,callLength=call.length;j<callLength;j++){var tweensContainer=call[j],element=tweensContainer.element;if(!Data(element)){continue}var transformPropertyExists=false;if(opts.display!==undefined&&opts.display!==null&&opts.display!=="none"){if(opts.display==="flex"){var flexValues=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];$.each(flexValues,function(i,flexValue){CSS.setPropertyValue(element,"display",flexValue)})}CSS.setPropertyValue(element,"display",opts.display)}if(opts.visibility!==undefined&&opts.visibility!=="hidden"){CSS.setPropertyValue(element,"visibility",opts.visibility)}for(var property in tweensContainer){if(tweensContainer.hasOwnProperty(property)&&property!=="element"){var tween=tweensContainer[property],currentValue,easing=Type.isString(tween.easing)?Velocity.Easings[tween.easing]:tween.easing;if(Type.isString(tween.pattern)){var patternReplace=percentComplete===1?function($0,index,round){var result=tween.endValue[index];return round?Math.round(result):result}:function($0,index,round){var startValue=tween.startValue[index],tweenDelta=tween.endValue[index]-startValue,result=startValue+tweenDelta*easing(percentComplete,opts,tweenDelta);return round?Math.round(result):result};currentValue=tween.pattern.replace(/{(\d+)(!)?}/g,patternReplace)}else if(percentComplete===1){currentValue=tween.endValue}else{var tweenDelta=tween.endValue-tween.startValue;currentValue=tween.startValue+tweenDelta*easing(percentComplete,opts,tweenDelta)}if(!firstTick&&currentValue===tween.currentValue){continue}tween.currentValue=currentValue;if(property==="tween"){tweenDummyValue=currentValue}else{var hookRoot;if(CSS.Hooks.registered[property]){hookRoot=CSS.Hooks.getRoot(property);var rootPropertyValueCache=Data(element).rootPropertyValueCache[hookRoot];if(rootPropertyValueCache){tween.rootPropertyValue=rootPropertyValueCache}}var adjustedSetData=CSS.setPropertyValue(element,property,tween.currentValue+(IE<9&&parseFloat(currentValue)===0?"":tween.unitType),tween.rootPropertyValue,tween.scrollData);if(CSS.Hooks.registered[property]){if(CSS.Normalizations.registered[hookRoot]){Data(element).rootPropertyValueCache[hookRoot]=CSS.Normalizations.registered[hookRoot]("extract",null,adjustedSetData[1])}else{Data(element).rootPropertyValueCache[hookRoot]=adjustedSetData[1]}}if(adjustedSetData[0]==="transform"){transformPropertyExists=true}}}}if(opts.mobileHA){if(Data(element).transformCache.translate3d===undefined){Data(element).transformCache.translate3d="(0px, 0px, 0px)";transformPropertyExists=true}}if(transformPropertyExists){CSS.flushTransformCache(element)}}if(opts.display!==undefined&&opts.display!=="none"){Velocity.State.calls[i][2].display=false}if(opts.visibility!==undefined&&opts.visibility!=="hidden"){Velocity.State.calls[i][2].visibility=false}if(opts.progress){opts.progress.call(callContainer[1],callContainer[1],percentComplete,Math.max(0,timeStart+opts.duration-timeCurrent),timeStart,tweenDummyValue)}if(percentComplete===1){completeCall(i)}}}if(Velocity.State.isTicking){ticker(tick)}}function completeCall(callIndex,isStopped){if(!Velocity.State.calls[callIndex]){return false}var call=Velocity.State.calls[callIndex][0],elements=Velocity.State.calls[callIndex][1],opts=Velocity.State.calls[callIndex][2],resolver=Velocity.State.calls[callIndex][4];var remainingCallsExist=false;for(var i=0,callLength=call.length;i<callLength;i++){var element=call[i].element;if(!isStopped&&!opts.loop){if(opts.display==="none"){CSS.setPropertyValue(element,"display",opts.display)}if(opts.visibility==="hidden"){CSS.setPropertyValue(element,"visibility",opts.visibility)}}var data=Data(element);if(opts.loop!==true&&($.queue(element)[1]===undefined||!/\.velocityQueueEntryFlag/i.test($.queue(element)[1]))){if(data){data.isAnimating=false;data.rootPropertyValueCache={};var transformHAPropertyExists=false;$.each(CSS.Lists.transforms3D,function(i,transformName){var defaultValue=/^scale/.test(transformName)?1:0,currentValue=data.transformCache[transformName];if(data.transformCache[transformName]!==undefined&&new RegExp("^\\("+defaultValue+"[^.]").test(currentValue)){transformHAPropertyExists=true;delete data.transformCache[transformName]}});if(opts.mobileHA){transformHAPropertyExists=true;delete data.transformCache.translate3d}if(transformHAPropertyExists){CSS.flushTransformCache(element)}CSS.Values.removeClass(element,"velocity-animating")}}if(!isStopped&&opts.complete&&!opts.loop&&i===callLength-1){try{opts.complete.call(elements,elements)}catch(error){setTimeout(function(){throw error},1)}}if(resolver&&opts.loop!==true){resolver(elements)}if(data&&opts.loop===true&&!isStopped){$.each(data.tweensContainer,function(propertyName,tweenContainer){if(/^rotate/.test(propertyName)&&(parseFloat(tweenContainer.startValue)-parseFloat(tweenContainer.endValue))%360===0){var oldStartValue=tweenContainer.startValue;tweenContainer.startValue=tweenContainer.endValue;tweenContainer.endValue=oldStartValue}if(/^backgroundPosition/.test(propertyName)&&parseFloat(tweenContainer.endValue)===100&&tweenContainer.unitType==="%"){tweenContainer.endValue=0;tweenContainer.startValue=100}});Velocity(element,"reverse",{loop:true,delay:opts.delay})}if(opts.queue!==false){$.dequeue(element,opts.queue)}}Velocity.State.calls[callIndex]=false;for(var j=0,callsLength=Velocity.State.calls.length;j<callsLength;j++){if(Velocity.State.calls[j]!==false){remainingCallsExist=true;break}}if(remainingCallsExist===false){Velocity.State.isTicking=false;delete Velocity.State.calls;Velocity.State.calls=[]}}global.Velocity=Velocity;if(global!==window){global.fn.velocity=animate;global.fn.velocity.defaults=Velocity.defaults}$.each(["Down","Up"],function(i,direction){Velocity.Redirects["slide"+direction]=function(element,options,elementsIndex,elementsSize,elements,promiseData){var opts=$.extend({},options),begin=opts.begin,complete=opts.complete,inlineValues={},computedValues={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};if(opts.display===undefined){opts.display=direction==="Down"?Velocity.CSS.Values.getDisplayType(element)==="inline"?"inline-block":"block":"none"}opts.begin=function(){if(elementsIndex===0&&begin){begin.call(elements,elements)}for(var property in computedValues){if(!computedValues.hasOwnProperty(property)){continue}inlineValues[property]=element.style[property];var propertyValue=CSS.getPropertyValue(element,property);computedValues[property]=direction==="Down"?[propertyValue,0]:[0,propertyValue]}inlineValues.overflow=element.style.overflow;element.style.overflow="hidden"};opts.complete=function(){for(var property in inlineValues){if(inlineValues.hasOwnProperty(property)){element.style[property]=inlineValues[property]}}if(elementsIndex===elementsSize-1){if(complete){complete.call(elements,elements)}if(promiseData){promiseData.resolver(elements)}}};Velocity(element,computedValues,opts)}});$.each(["In","Out"],function(i,direction){Velocity.Redirects["fade"+direction]=function(element,options,elementsIndex,elementsSize,elements,promiseData){var opts=$.extend({},options),complete=opts.complete,propertiesMap={opacity:direction==="In"?1:0};if(elementsIndex!==0){opts.begin=null}if(elementsIndex!==elementsSize-1){opts.complete=null}else{opts.complete=function(){if(complete){complete.call(elements,elements)}if(promiseData){promiseData.resolver(elements)}}}if(opts.display===undefined){opts.display=direction==="In"?"auto":"none"}Velocity(this,propertiesMap,opts)}});return Velocity}(window.jQuery||window.Zepto||window,window,window?window.document:undefined)})},{}],7:[function(require,module,exports){"use strict";document.addEventListener("DOMContentLoaded",function(event){var router=require("lr-client-router");var renderer=require("lr-client-renderer");var road=require("lr-core")("client");road.extension("router",router,true).extension("renderer",renderer,true).middleware({"response.html":function responseHtml(next,relay){relay.extensions.renderer.html()},"events.navigation":require("../middleware/events/navigation")});require("./road")(road).where("client").update({matchValue:window.location.pathname,updateType:"domReady"})})},{"../middleware/events/navigation":22,"./road":8,"lr-client-renderer":1,"lr-client-router":2,"lr-core":3}],8:[function(require,module,exports){"use strict";module.exports=function(road){road.where("webserver","client").middleware({debug:function debug(next,relay,request){console.log(request.url);next()},"components.navigation":require("../middleware/components/navigation"),"components.home":require("../middleware/components/home"),"components.reference":require("../middleware/components/reference"),"components.lrCore":require("../middleware/components/reference/lr-core"),"components.lrServerRouter":require("../middleware/components/reference/lr-server-router"),"components.lrServerRenderer":require("../middleware/components/reference/lr-server-renderer"),"components.lrClientRouter":require("../middleware/components/reference/lr-client-router"),"components.lrClientRenderer":require("../middleware/components/reference/lr-client-renderer"),"components.lrUrlParser":require("../middleware/components/reference/lr-url-parser"),"components.faq":require("../middleware/components/faq"),"components.guide":require("../middleware/components/guide"),"components.error":require("../middleware/components/error"),"components.noMatch":require("../middleware/components/noMatch")}).run("*","debug").where("webserver").run("*","layouts.default").run("*","components.navigation").noMatch("layouts.default").where("client").run("*","events.navigation","domReady").where("webserver","client").run("/","components.home").run("/guide","components.guide").run("/reference","components.reference").run("/reference/lr-core","components.lrCore").run("/reference/lr-server-router","components.lrServerRouter").run("/reference/lr-server-renderer","components.lrServerRenderer").run("/reference/lr-client-router","components.lrClientRouter").run("/reference/lr-client-renderer","components.lrClientRenderer").run("/reference/lr-url-parser","components.lrUrlParser").run("/faq","components.faq").noMatch("components.noMatch").error("components.error").done("response.html");return road}},{"../middleware/components/error":9,"../middleware/components/faq":10,"../middleware/components/guide":11,"../middleware/components/home":12,"../middleware/components/navigation":13,"../middleware/components/noMatch":14,"../middleware/components/reference":15,"../middleware/components/reference/lr-client-renderer":16,"../middleware/components/reference/lr-client-router":17,"../middleware/components/reference/lr-core":18,"../middleware/components/reference/lr-server-renderer":19,"../middleware/components/reference/lr-server-router":20,"../middleware/components/reference/lr-url-parser":21}],9:[function(require,module,exports){"use strict";module.exports=function(next,relay){relay.extensions.renderer.render("\n    <h1>Error</h1>\n    <pre>"+relay.error+"</pre>\n  ","article");next()}},{}],10:[function(require,module,exports){"use strict";module.exports=function(next,relay){relay.extensions.renderer.render('\n    <h1>FAQ</h1>\n    <p>Answers to some common questions you might have. Cannot find an answer? Please open an <a href="https://github.com/lagoon-road/lr-core/issues/new">issue</a> on Github. I will keep this list up to date so all questions asked on Github that have any merit will be added to this list.</p>\n    <ul class="submenu">\n      <li><a href="#which-versions-of-node-are-supported">Which versions of node are supported?</a></li>\n      <li><a href="#does-a-single-road-not-create-overhead-in-other-environments">Does a single road not create overhead in other environments?</a></li>\n      <li><a href="#what-is-the-best-directory-structure-for-my-project">What is the best directory structure for my project?</a></li>\n      <li><a href="#who-created-lagoon-road">Who created Lagoon road?</a></li>\n      <li><a href="#where-does-the-name-come-from">Where does the name come from?</a></li>\n    </ul>\n    <h3><a name="which-versions-of-node-are-supported">Which versions of node are supported?</a></h3>\n    <p>The packages have hardly any dependencies and are very much just plain javascript, so everything from node 4.x up I expect to work. The code is written with ES6 so you might need to compile your code first with Babel to get it to run. Best practice is to use the newest version of node, for the simple reason that I haven\'t tested older versions. I developed with node 7.6.x</p>\n    <h3><a name="does-a-single-road-not-create-overhead-in-other-environments">Does a single road not create overhead in other environments?</a></h3>\n    <p>Yes, combining the middleware in a single place, will create overhead. But compared to what you gain from having everything connected in a single place, it is negligible. You will only create some extra properties on the internal objects within the core. Whenever the update event is fired the matches are done based on object key matches, so there is no extra filtering needed. Performance wise not really an issue.</p>\n\n    <h3><a name="what-is-the-best-directory-structure-for-my-project">What is the best directory structure for my project?</a></h3>\n    <p>Lagoon road doesn\'t force any structure on you. That is the phylosophy of Lagoon road, that you don\'t have to tie yourself down to any methodologies or structures. You want to work more in a component based manner, you can do so. Want to seperate your scripts from your styles, because you reuse your css over multiple components, also possible.</p>\n    <p>This is the structure that I\'ve used for this website</p>\n    <pre>\n- source\n| - bootstrap\n  | - client.js\n  | - server.js\n  | - road.js\n| - extensions\n  | - settings\n    | - webserver.js\n| - middleware\n  | - components\n    | - .. every component in a single file\n  | - layouts\n    | .. every layout in a single file\n  | - events\n    | - .. client side dom code, every component in a single file\n  | - response\n    | - response.js (html response for the webserver)\n| - stylesheets\n  | - components\n    | .. every component in a single file\n  | - layouts\n    | .. every layout in a single file\n  | - .. some more general styles, like animation and typography\n  | - styles.css (importing all other styles)\n    </pre>\n    <p>Then all client side code will be pass through babel and browserify and the minifier. View the <a href="https://github.com/lagoon-road/lr-website/blob/master/package.json">package.json</a> and the <a href="https://github.com/lagoon-road/lr-website">lr-website code</a></p>\n\n\n    <h3><a name="who-created-lagoon-road">Who created Lagoon road?</a></h3>\n    <p><a href="http://royniels.nl">Check my website</a></p>\n\n    <h3><a name="where-does-the-name-come-from">Where does the name come from?</a></h3>\n    <p>\n      The name comes from one of my favorite books, <em><a href="https://www.amazon.com/Surviving-Paradise-Year-Disappearing-Island/dp/B0044KN3CO">Surviving Paradise: One Year on a Disappearing Island</a></em>. At some point the protagonist is back on Majuro, an island in the Marshall Islands group and talks about the single road on the island.\n    </p>\n    <blockquote>\n      Taxis were a snap—stand on the appropriate side of the street, ﬂag down one of the six cabs that arrived every minute, and then sit in the cool dryness of the air-conditioning and enjoy the ride. No need to tell the driver your destination: since there was only one real road, you could simply tell him when to stop.\n    </blockquote>\n    <p>The road that he is talking about is called Lagoon road, and since I am residing on Bali, a link with islands and the single road concept seemed like a good metaphore for the single object structure of Lagoon road.\n  ',"article");
next()}},{}],11:[function(require,module,exports){"use strict";module.exports=function(next,relay){relay.extensions.renderer.render("\n    <h1>Guide</h1>\n  ","article");next()}},{}],12:[function(require,module,exports){"use strict";module.exports=function(next,relay){relay.extensions.renderer.render('\n    <section class="home">\n      <p class="standout">lagoon road is a package/methodology that takes middleware to the extreme. It wraps everything, your templates, DOM events, API calls, basically anything you can think of into a middleware function.</p>\n      <p>All middleware is connected to what we call the (Lagoon) road. A single object where you chain your middleware regardless of the environment you are running in, being it the client, web server, api server, Raspberry Pie or mobile device. The benefit of this is that it becomes very easy to reason about the flow of your application. There is only one place that calls your middleware, the Lagoon road.</p>\n      <p>Because of this centralized system it additionally becomes a breeze to share your code between environments. Routes or api calls on the client and web server. Login checks and data preparations on an api server and web server are just some examples. Sharing code is trivial even if you scale up your app.</p>\n      <p>Lagoon is not a monolithic framework that does everything out of the box. It is a simple package with only 250 lines of code. You can add extensions (regular npm packages) to mold it in a system that works for you and your team.\n      </p>\n      <section class="highlight">\n        <h2>Where from here?</h2>\n        <p>\n          <a href="/guide" class="pure-button">Examples in the <strong>guide</strong></a>\n          <a href="/reference" class="pure-button">Nuts & bolts in the <strong>reference</strong></a>\n          <a href="/faq" class="pure-button">Answers in the <strong>FAQ</strong></a>\n          <a href="/about" class="pure-button">Backgrounds in the <strong>about</strong></a>\n      </section>\n    </section>\n  ',"article");next()}},{}],13:[function(require,module,exports){"use strict";module.exports=function(next,relay){relay.extensions.renderer.render('\n    <nav>\n      <ul>\n        <li><a href="/">Home</a></li>\n        <li><a href="/guide">Guide</a></li>\n        <li><a href="/reference">Reference</a></li>\n        <li><a href="/faq">Faq</a></li>\n      </ul>\n    </nav>\n  ',"#navigation");next()}},{}],14:[function(require,module,exports){"use strict";module.exports=function(next,relay,request){relay.extensions.renderer.render("\n    <h1>404 - Page not found</h1>\n    <pre>\n      Oh my, "+request.url+" could not be found\n    </pre>\n  ","article");next()}},{}],15:[function(require,module,exports){"use strict";module.exports=function(next,relay){relay.extensions.renderer.render('\n    <h1>Reference</h1>\n    <p>Although Lagoon road needs only a single package to be up and running, namely lr-core, it comes with additional packages that make it easy to do some common tasks, like routing and rendering.</p>\n    <ul class="submenu">\n      <li><a href="/reference/lr-core">lr-core</a></li>\n      <li><a href="/reference/lr-server-router">lr-server-router</a></li>\n      <li><a href="/reference/lr-server-renderer">lr-server-renderer</a></li>\n      <li><a href="/reference/lr-client-router">lr-client-router</a></li>\n      <li><a href="/reference/lr-client-renderer">lr-client-renderer</a></li>\n      <li><a href="/reference/lr-url-parser">lr-url-parser</a></li>\n    </ul>\n  ',"article");next()}},{}],16:[function(require,module,exports){"use strict";module.exports=function(next,relay){relay.extensions.renderer.render('\n        <h1 id="lg-client-renderer-reference">lg-client-renderer reference</h1>\n<p>A Lagoon road extension that gives you renderer functionality on the client. This renderer does quick replacement and doesn&#39;t do virtual dom html difference changes. It should suffice for about 95% of all cases. When you start working more with a websocket pub/sub system you might want to consider writing your own renderer or use a virtual dom approach so user input will not get replaced on dom updates. Read more about writing extensions in the <a href="https://www.lagoonroad.com/guide">guide</a>.</p>\n<table>\n<thead>\n<tr>\n<th>Information</th>\n<th>-</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Code coverage</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Repo link</td>\n<td><a href="https://github.com/lagoon-road/lr-client-renderer">lr-client-renderer</a></td>\n</tr>\n<tr>\n<td>Dependencies</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Size (Browserify, Babel, Uglify and Gzip)</td>\n<td>789 bytes</td>\n</tr>\n<tr>\n<td>Version</td>\n<td>1.0.0</td>\n</tr>\n<tr>\n<td>License</td>\n<td>MIT</td>\n</tr>\n<tr>\n<td>Usage</td>\n<td><a href="https://www.lagoonroad.com/guide">lagoonroad.com/guide</a></td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3 id="adding-the-extension-to-lagoon-road">Adding the extension to lagoon road</h3>\n<pre><code><span class="hljs-attribute">const router</span>   = require(<span class="hljs-string">\'lg-client-renderer\'</span>);\n<span class="hljs-attribute">const core</span>     = require(<span class="hljs-string">\'lr-core\'</span>);\n<span class="hljs-attribute">const road</span>     = core(<span class="hljs-string">\'client\'</span>)\n  .extension(<span class="hljs-string">\'renderer\'</span>, renderer, true);\n</code></pre><hr>\n<h3 id="renderer-render-html-placeholder-">renderer.render(html, placeholder)</h3>\n<pre><code><span class="hljs-keyword">renderer</span>.<span class="hljs-keyword">render</span>(<span class="hljs-string">\'&lt;section&gt;...&lt;/section&gt;\'</span>, <span class="hljs-string">\'.placeholderName\'</span>);\n</code></pre><p><em>Prepare the component to be added to the template.</em></p>\n<p><strong>html:string</strong><br>The components html that you want to load.</p>\n<p><strong>placeholder:string</strong><br>A html selector that should be the parent of the html you want to add. The contents of the placeholder will be removed before adding the new html.</p>\n<hr>\n<h3 id="renderer-html-">renderer.html()</h3>\n<pre><code>renderer.html()<span class="hljs-comment">;</span>\n</code></pre><p><em>Replaces all the components that are added with <code>renderer.render</code> to the template at once. This way templates will only be added once even if they have been declared for replacement multiple times. </em></p>\n\n    ',"article");next()}},{}],17:[function(require,module,exports){"use strict";module.exports=function(next,relay){relay.extensions.renderer.render('\n        <h1 id="lg-client-router-reference">lg-client-router reference</h1>\n<p>A Lagoon road extension that gives you route functionality on the client.</p>\n<table>\n<thead>\n<tr>\n<th>Information</th>\n<th>-</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Code coverage</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Repo link</td>\n<td><a href="https://github.com/lagoon-road/lr-client-router">lr-client-router</a></td>\n</tr>\n<tr>\n<td>Dependencies</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Size (Browserify, Babel, Uglify and Gzip)</td>\n<td>612 bytes</td>\n</tr>\n<tr>\n<td>Version</td>\n<td>1.0.0</td>\n</tr>\n<tr>\n<td>License</td>\n<td>MIT</td>\n</tr>\n<tr>\n<td>Usage</td>\n<td><a href="https://www.lagoonroad.com/guide">lagoonroad.com/guide</a></td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3 id="adding-the-extension-to-lagoon-road">Adding the extension to lagoon road</h3>\n<pre><code><span class="hljs-attribute">const router</span>   = require(<span class="hljs-string">\'lg-client-router\'</span>);\n<span class="hljs-attribute">const core</span>     = require(<span class="hljs-string">\'lr-core\'</span>);\n<span class="hljs-attribute">const road</span>     = core(<span class="hljs-string">\'client\'</span>)\n  .extension(<span class="hljs-string">\'router\'</span>, router, true);\n</code></pre><hr>\n<h3 id="router-redirect-path-">router.redirect(path)</h3>\n<pre><code><span class="hljs-selector-tag">router</span><span class="hljs-selector-class">.redirect</span>(<span class="hljs-string">\'/some-page\'</span>);\n</code></pre><p><strong>path:string</strong><br>The path to where you want to redirect, this will trigger an update event on the road.</p>\n<hr>\n\n    ',"article");next()}},{}],18:[function(require,module,exports){"use strict";module.exports=function(next,relay){relay.extensions.renderer.render('\n        <h1 id="lg-core-reference">lg-core reference</h1>\n<p>The <em>lr-core</em> package is the only mandatory package for Lagoon road. This package connects everything together, regardless of environment. There are eight exposed functions that you can use.</p>\n<table>\n<thead>\n<tr>\n<th>Information</th>\n<th>-</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Code coverage</td>\n<td><a href="https://coveralls.io/github/lagoon-road/lr-core?branch=master"><img src="https://coveralls.io/repos/github/lagoon-road/lr-core/badge.svg?branch=master" alt="Coverage Status"></a></td>\n</tr>\n<tr>\n<td>Repo link</td>\n<td><a href="https://github.com/lagoon-road/lr-core">lr-core</a></td>\n</tr>\n<tr>\n<td>Dependencies</td>\n<td><a href="https://github.com/philbooth/check-types.js">check-types</a>, <a href="https://github.com/lagoon-road/lr-url-parser">lr-url-parser</a></td>\n</tr>\n<tr>\n<td>Size (Browserify, Babel, Uglify and Gzip)</td>\n<td>5.3KB</td>\n</tr>\n<tr>\n<td>Version</td>\n<td>1.0.0</td>\n</tr>\n<tr>\n<td>License</td>\n<td>MIT</td>\n</tr>\n<tr>\n<td>Usage</td>\n<td><a href="https://www.lagoonroad.com/guide">lagoonroad.com/guide</a></td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3 id="core-environmentid-options-">core(environmentId, [options])</h3>\n<pre><code><span class="hljs-attribute">const core</span> = require(<span class="hljs-string">\'lr-core\'</span>);\n<span class="hljs-attribute">const road</span> = core(<span class="hljs-string">\'webserver\'</span>);\n</code></pre><p><strong>environmentId:string</strong><br>The primary environment id for the road, this is the executing environment that will be used when an update cycle is fired.</p>\n<p><strong>[options.parser:object]</strong><br>The parser to use when handling the <em>matchValue</em>. Read more about parsers in the <a href="https://lagoonroad.com/guide#parsers">guide</a>.</p>\n<p><strong>[options.resetAfterCycle:boolean]</strong><br>By default the relay object gets cleared after an update cycle of the road, sometimes, mainly on the client, you want to keep the relay populated even if an update cycle has ran. To do so, you can set this boolean to  <em>false</em></p>\n<hr>\n<h3 id="road-extension-extensionid-extension-isupdater-">road.extension(extensionId, extension, [isUpdater])</h3>\n<pre><code>road.extension(<span class="hljs-string">\'router\'</span>, router, <span class="hljs-literal">true</span>);\n</code></pre><p><strong>extensionId:string</strong><br>A unique id to identify the extension.</p>\n<p><strong>extension:*</strong><br>The actual extension, this can be any type of code that you want to use</p>\n<p><strong>[isUpdater:boolean = false]</strong><br>Tell the core if on initialization the extension needs to be executed. This is typically for extensions that use update events to trigger updates to the road. Read more about <a href="https://lagoonroad.com/guide#extensions">extensions</a> in the guide.</p>\n<blockquote>\n<p>Extensions can be used in middleware via the relay object.</p>\n<pre><code><span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-params">(<span class="hljs-built_in">next</span>, relay)</span> =&gt;</span> {\n  console.log(relay.extensions.extensionName);\n  <span class="hljs-built_in">next</span>();\n}\n</code></pre></blockquote>\n<hr>\n<h3 id="road-middleware-middleware-">road.middleware(middleware)</h3>\n<pre><code>road.middleware({ bodyParser }, <span class="hljs-string">\'bodyParser\'</span>);\n</code></pre><p><strong>middleware:object</strong><br>An object with all the middleware you want to use. This is a single depth object so don&#39;t use any nested structures.</p>\n<blockquote>\n<p>Middleware methods can be called multiple times, the middleware will all be added to a single object within the core. Therefore you need to supply unique ids/keys.\nIf you have a multitude of middleware functions that you  want to use it might be handy to use a dot notation to  group your middleware.</p>\n<pre><code>road.middleware({\n  <span class="hljs-string">\'templating.component.navigation\'</span> : <span class="hljs-built_in">require</span>(<span class="hljs-string">\'...\'</span>),  \n  <span class="hljs-string">\'templating.component.home\'</span>       : <span class="hljs-built_in">require</span>(<span class="hljs-string">\'...\'</span>),  \n});\n</code></pre><p>Read more about how to define and use middleware in the <a href="https://lagoonroad.com/guide#middleware">guide</a>.</p>\n</blockquote>\n<hr>\n<h3 id="road-where-environmentid-environmentid-">road.where(environmentId, [...environmentId])</h3>\n<pre><code>road.<span class="hljs-keyword">where</span>(<span class="hljs-string">\'webserver\'</span>, <span class="hljs-string">\'client\'</span>);\n</code></pre><p><em>When assigning middleware to the road you might want to switch the environment they need to be assigned to. You can do that by using the <code>where</code> method.</em></p>\n<p><strong>environmentId:string</strong><br>The where method expects at least one argument, which should be a string. This is an environment id to which all the following middleware will be assigned. If you want to assign middleware to multiple environments you can just specify several ids like in the example above.</p>\n<hr>\n<h3 id="road-run-matchvalue-middlewareid-matchvalue-">road.run(matchValue, middlewareId, [matchValue])</h3>\n<pre><code>road.<span class="hljs-built_in">run</span>(<span class="hljs-string">\'*\'</span>, <span class="hljs-string">\'log\'</span>);\n</code></pre><p><strong>matchValue:string</strong><br>A match value in most webapps can be thought of as an url path, but it is not limited to paths only. Frankly it can be any string you can think of, even a JSON string to match on JSON content. Or in an even more exotic example you can match Raspberry pie sensor outputs via an extension to string values and let that trigger middleware. You can use the <code>*</code> as a wildcard to match on all match values that might come in.</p>\n<p><strong>middlewareId:string</strong><br>Identifier you added by using the <code>middleware</code> method. It needs to be a string and should match to a middleware function, otherwise it will throw.</p>\n<p><strong>[updateType:string]</strong><br>The update type is an extra layer for matching middleware, if we use a http protocol to update the road, this will be the method for the request. By default it wil be <code>GET</code> because it is the most common, but it can be overwritten to be something else. Again you are not limited to http methods, it fully depends on what an extension sends out via an update event.</p>\n<hr>\n<h3 id="road-error-middlewareid-updatetype-">road.error(middlewareId, [updateType])</h3>\n<pre><code>road.<span class="hljs-keyword">error</span>(\'<span class="hljs-built_in">log</span>\')\n</code></pre><p><em>Whenever the stack of middleware that is updated throws an error, it will be redirected to error middleware. You can use it to render alternative content or log the errors. The <code>relay</code> object will have a new property <code>relay.error</code> with the error message.</em></p>\n<p><strong>middlewareId:string</strong><br>Identifier you added by using the <code>middleware</code> method. It needs to be a string and should match to a middleware function, otherwise it will throw.</p>\n<p><strong>[updateType:string]</strong><br>The update type is an extra layer for matching middleware, if we use a http protocol to update the road, this will be the method for the request. By default it wil be <code>GET</code> because it is the most common, but it can be overwritten to be something else. Again you are not limited to http methods, it fully depends on what an extension sends out via an update event.</p>\n<hr>\n<h3 id="road-nomatch-middlewareid-updatetype-">road.noMatch(middlewareId, [updateType])</h3>\n<pre><code><span class="hljs-selector-tag">road</span><span class="hljs-selector-class">.noMatch</span>(<span class="hljs-string">\'log\'</span>);\n</code></pre><p><em>When no middleware could be found for a current combination of <code>matchValue</code> and <code>updateType</code>, the <code>noMatch</code> middleware will be called, this is handy if you want to return a 404 page or something similar.</em></p>\n<p><strong>middlewareId:string</strong><br>Identifier you added by using the <code>middleware</code> method. It needs to be a string and should match to a middleware function, otherwise it will throw.</p>\n<p><strong>[updateType:string]</strong><br>The update type is an extra layer for matching middleware, if we use a http protocol to update the road, this will be the method for the request. By default it wil be <code>GET</code> because it is the most common, but it can be overwritten to be something else. Again you are not limited to http methods, it fully depends on what an extension sends out via an update event.</p>\n<hr>\n<h3 id="road-done-middlewareid-updatetype-">road.done(middlewareId, [updateType])</h3>\n<pre><code><span class="hljs-selector-tag">road</span><span class="hljs-selector-class">.done</span>(<span class="hljs-string">\'response\'</span>, <span class="hljs-string">\'post\'</span>);\n</code></pre><p><em>The <code>done</code> method is called as the last method in the stack, it is typically used to render output (html or json) to a client</em></p>\n<p><strong>middlewareId:string</strong><br>Identifier you added by using the <code>middleware</code> method. It needs to be a string and should match to a middleware function, otherwise it will throw.</p>\n<p><strong>[updateType:string]</strong><br>The update type is an extra layer for matching middleware, if we use a http protocol to update the road, this will be the method for the request. By default it wil be <code>GET</code> because it is the most common, but it can be overwritten to be something else. Again you are not limited to http methods, it fully depends on what an extension sends out via an update event.</p>\n<hr>\n<h3 id="road-update-options-object-parameters-">road.update(options:object, [...parameters])</h3>\n<pre><code><span class="hljs-selector-tag">road</span><span class="hljs-selector-class">.update</span>({ <span class="hljs-attribute">matchValue </span>: <span class="hljs-string">\'/somepath\'</span>, updateType : <span class="hljs-string">\'post\'</span> }, <span class="hljs-selector-tag">parameterOne</span>, <span class="hljs-selector-tag">parameterTwo</span>);\n</code></pre><p><em>Manually trigger an upadte cycle to the road by calling the <code>update</code> method.</em></p>\n<p><strong>options.matchValue:string</strong><br>A match value in most webapps can be thought of as an url path, but it is not limited to paths only. Frankly it can be any string you can think of, even a JSON string to match on JSON content. Or in an even more exotic example you can match Raspberry pie sensor outputs via an extension to string values and let that trigger middleware. You can use the <code>*</code> as a wildcard to match on all match values that might come in.</p>\n<p><strong>options.updateType:string</strong><br>The update type is an extra layer for matching middleware, if we use a http protocol to update the road, this will be the method for the request. By default it wil be <code>GET</code> because it is the most common, but it can be overwritten to be something else. Again you are not limited to http methods, it fully depends on what an extension sends out via an update event.</p>\n<p><strong>parameters:*</strong><br>Each update can be have custom parameters that will be available as middleware arguments. This could be for example the <code>request</code> and <code>response</code> object on a router update.</p>\n<blockquote>\n<p>Read more about parameters in the <a href="https://lagoonroad.com/guide#middleware">middleware</a> section.\nEvery time a update method is called the middleware that matches will be added to the stack of middleware that needs to be executed. So when calling this on the server you might send out a response and afterwards more middleware will be called. Therefore use it on the client mainly to initialize events. Make sure you fully understand the middelware stack before start using the update function.</p>\n</blockquote>\n\n    ',"article");next()}},{}],19:[function(require,module,exports){"use strict";module.exports=function(next,relay){relay.extensions.renderer.render('\n        <h1 id="lg-server-renderer-reference">lg-server-renderer reference</h1>\n<p>Server side renderer for lagoon road.</p>\n<table>\n<thead>\n<tr>\n<th>Information</th>\n<th>-</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Code coverage</td>\n<td><a href="https://coveralls.io/github/lagoon-road/lr-server-renderer?branch=master"><img src="https://coveralls.io/repos/github/lagoon-road/lr-server-renderer/badge.svg?branch=master" alt="Coverage Status"></a></td>\n</tr>\n<tr>\n<td>Repo link</td>\n<td><a href="https://github.com/lagoon-road/lr-server-renderer">lr-core</a></td>\n</tr>\n<tr>\n<td>Dependencies</td>\n<td><a href="https://github.com/cheeriojs/cheerio">cheerio</a></td>\n</tr>\n<tr>\n<td>Size (ex. dependencies)</td>\n<td>612 bytes</td>\n</tr>\n<tr>\n<td>Version</td>\n<td>1.0.0</td>\n</tr>\n<tr>\n<td>License</td>\n<td>MIT</td>\n</tr>\n<tr>\n<td>Usage</td>\n<td><a href="https://www.lagoonroad.com/guide">lagoonroad.com/guide</a></td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3 id="renderer-template-html-">renderer.template(html)</h3>\n<pre><code>renderer.template(<span class="hljs-comment">\'<span class="hljs-doctag">&lt;html&gt;</span>...<span class="hljs-doctag">&lt;/html&gt;</span>\');</span>\n</code></pre><p><em>Method sets the template for the output, all components will be added to this template</em></p>\n<p><strong>html:string</strong><br>The template you want to use for the components and state that you might want to add.</p>\n<hr>\n<h3 id="renderer-render-html-placeholder-">renderer.render(html, placeholder)</h3>\n<pre><code><span class="hljs-keyword">renderer</span>.<span class="hljs-keyword">render</span>(<span class="hljs-string">\'&lt;section&gt;...&lt;/section&gt;\'</span>, <span class="hljs-string">\'.placeholderName\'</span>);\n</code></pre><p><em>Adds a component to the template.</em></p>\n<p><strong>html:string</strong><br>The components html that you want to load.</p>\n<p><strong>placeholder:string</strong><br>A html selector that should be the parent of the html you want to add. The contents of the placeholder will be removed before adding the new html.</p>\n<hr>\n<h3 id="renderer-state-state-">renderer.state(state)</h3>\n<pre><code><span class="hljs-selector-tag">renderer</span><span class="hljs-selector-class">.state</span>({ <span class="hljs-attribute">data </span>: [...], otherProperties : true });\n</code></pre><p><em>Add data to a script tag that you can access on the client again. This prevents loading the same data. The data will be available by accessing <code>window.__state__</code> as json.</em></p>\n<p><strong>state:object</strong><br>An object that has been loaded on the server that you want to transfer to the client.</p>\n<hr>\n<h3 id="renderer-html-">renderer.html()</h3>\n<pre><code>renderer.html()<span class="hljs-comment">;</span>\n</code></pre><p><em>Get the final output of the template and components that you have created, this data can be send back as the response to the client.</em></p>\n\n    ',"article");next()}},{}],20:[function(require,module,exports){"use strict";module.exports=function(next,relay){relay.extensions.renderer.render('\n        <h1 id="lg-server-router-reference">lg-server-router reference</h1>\n<p>A Lagoon road extension that gives you route functionality on the server.</p>\n<table>\n<thead>\n<tr>\n<th>Information</th>\n<th>-</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Code coverage</td>\n<td><a href="https://coveralls.io/github/lagoon-road/lr-server-router?branch=master"><img src="https://coveralls.io/repos/github/lagoon-road/lr-server-router/badge.svg?branch=master" alt="Coverage Status"></a></td>\n</tr>\n<tr>\n<td>Repo link</td>\n<td><a href="https://github.com/lagoon-road/lr-server-router">lr-server-router</a></td>\n</tr>\n<tr>\n<td>Dependencies</td>\n<td>-</td>\n</tr>\n<tr>\n<td>Size</td>\n<td>336 bytes</td>\n</tr>\n<tr>\n<td>Version</td>\n<td>1.0.0</td>\n</tr>\n<tr>\n<td>License</td>\n<td>MIT</td>\n</tr>\n<tr>\n<td>Usage</td>\n<td><a href="https://www.lagoonroad.com/guide">lagoonroad.com/guide</a></td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3 id="function-initialization">Function initialization</h3>\n<p>This package doesn&#39;t have any exposed methods, it does however needs a single argument on creation.</p>\n<pre><code><span class="hljs-attribute">const protocol</span> = require(<span class="hljs-string">\'http\'</span>);\n<span class="hljs-attribute">const server</span>   = protocol.createServer();\n<span class="hljs-attribute">const router</span>   = require(<span class="hljs-string">\'lg-server-router\'</span>)(server);\n<span class="hljs-attribute">const core</span>     = require(<span class="hljs-string">\'lr-core\'</span>);\n<span class="hljs-attribute">const road</span>     = core(<span class="hljs-string">\'webserver\'</span>)\n  .extension(<span class="hljs-string">\'router\'</span>, router, true);\n</code></pre><hr>\n\n    ',"article");next()}},{}],21:[function(require,module,exports){"use strict";module.exports=function(next,relay){relay.extensions.renderer.render('\n        <p><a href="https://coveralls.io/github/lagoon-road/lr-url-parser?branch=master"><img src="https://coveralls.io/repos/github/lagoon-road/lr-url-parser/badge.svg?branch=master" alt="Coverage Status"></a></p>\n<h1 id="lr-url-parser">lr-url-parser</h1>\n<p>Parser that can take placeholders from urls and match them with real urls</p>\n\n    ',"article");next()}},{}],22:[function(require,module,exports){"use strict";var velocity=require("velocity-animate");var init=true;module.exports=function(next,relay){var body=document.querySelector("body");var content=document.querySelector(".content");var logo=document.querySelector(".logo");var logoImg=document.querySelector(".logo img");var cars=[].slice.call(document.querySelectorAll(".car"));var clouds=[].slice.call(document.querySelectorAll(".cloud"));var media={desktop:{content:{home:{marginTop:"500px"},other:{marginTop:"100px"}},logo:{home:{top:"300px",width:"250px",marginLeft:"-370px"},other:{top:"20px",marginLeft:"-50px",width:"100px"}},logoImg:{home:{width:"100%"},other:{width:"100%"}}},tablet:{max:1e3,content:{home:{marginTop:"500px"},other:{marginTop:"100px"}},logo:{home:{top:"300px",width:"250px",marginLeft:"-125px"},other:{top:"50px",marginLeft:"-50px",width:"100px"}},logoImg:{home:{width:"100%"},other:{width:"100%"}}},mobile:{max:568,content:{home:{marginTop:"250px"},other:{marginTop:"100px"}},logo:{home:{top:"150px",width:"250px",marginLeft:"-125px"},other:{top:"20px",marginLeft:"-50px",width:"100px"}},logoImg:{home:{width:"150px"},other:{width:"100%"}}}};function sky(){if(clouds.length>0){var cloud=clouds.shift();var top=Math.round(dimensions.height*Math.random())-cloud.clientHeight;cloud.style.left=-cloud.clientWidth+"px";cloud.style.top=top+"px";var duration=dimensions.width*Math.round(Math.random()*4+9);var complete=function complete(){clouds.push(cloud)};velocity(cloud,{left:dimensions.width,top:top-500+"px"},{duration:duration,complete:complete,easing:"linear"})}}function drive(){var car=cars.shift();var duration=dimensions.height*Math.round(Math.random()*3+3);var distance=dimensions.height+150+"px";var complete=function complete(){car.style.top="-150px";cars.push(car);drive()};velocity(car,{top:distance},{duration:duration,complete:complete,easing:"linear"})}function getDimensions(){var width=body.clientWidth;var height=body.clientHeight;var current=media.desktop;if(width<=media.mobile.max){current=media.mobile}else if(width<=media.tablet.max){current=media.tablet}return{width:width,height:height,media:current}}var dimensions=getDimensions();window.onresize=function(){dimensions=getDimensions()};if(window.location.pathname==="/"){velocity(content,dimensions.media.content.home,{easing:"spring",duration:1e3});velocity(logo,dimensions.media.logo.home,{easing:"spring",duration:1e3});velocity(logoImg,dimensions.media.logoImg.home,{easing:"spring",duration:1e3});logo.classList.remove("minimal")}else{velocity(content,dimensions.media.content.other,{easing:"spring",duration:1e3});velocity(logo,dimensions.media.logo.other,{easing:"spring",duration:1e3});velocity(logoImg,dimensions.media.logoImg.other,{easing:"spring",duration:1e3});logo.classList.add("minimal")}next()}},{"velocity-animate":6}]},{},[7]);
